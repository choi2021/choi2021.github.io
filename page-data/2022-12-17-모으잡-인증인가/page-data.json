{"componentChunkName":"component---src-templates-post-jsx","path":"/2022-12-17-ëª¨ìœ¼ì¡-ì¸ì¦ì¸ê°€/","result":{"data":{"site":{"siteMetadata":{"title":"Troy DevLog"}},"markdownRemark":{"id":"bc74e94c-1d4a-5507-a390-a54e07d094e6","excerpt":"ğŸ”“ SSRì„ ì´ìš©í•œ ì¸ì¦/ì¸ê°€ ë„ì… ì´ë²ˆì— í”„ë¡œì íŠ¸ë¥¼ ê³ ë¯¼í•˜ë©´ì„œ í•­ìƒ ë‹µë‹µí–ˆë˜ ë¶€ë¶„ì´ì—ˆë˜ í˜ì´ì§€ redirectionê³¼ ì¸ì¦ ê³¼ì •ì— ëŒ€í•´ ë” ê¹Šì´ ê³µë¶€í–ˆë‹¤. CSRë¡œ ì²˜ë¦¬í•˜ë˜ ì¸ì¦ ë°©ì‹ì„ SSRë¡œ ìˆ˜ì •í•˜ê¸°ê¹Œì§€ ê³¼ì •ì„ ì •ë¦¬í•´ ë³´ë ¤ í•œë‹¤. ğŸ˜… Firebaseì˜ APIë¥¼ ì´ìš©í•œ User ìƒíƒœ ê´€ë¦¬ ê¸°ì¡´ Authenticationì€ firebase Authë¥¼ ì´â€¦","html":"<h1>ğŸ”“ SSRì„ ì´ìš©í•œ ì¸ì¦/ì¸ê°€ ë„ì…</h1>\n<p>ì´ë²ˆì— í”„ë¡œì íŠ¸ë¥¼ ê³ ë¯¼í•˜ë©´ì„œ í•­ìƒ ë‹µë‹µí–ˆë˜ ë¶€ë¶„ì´ì—ˆë˜ í˜ì´ì§€ redirectionê³¼ ì¸ì¦ ê³¼ì •ì— ëŒ€í•´ ë” ê¹Šì´ ê³µë¶€í–ˆë‹¤. CSRë¡œ ì²˜ë¦¬í•˜ë˜ ì¸ì¦ ë°©ì‹ì„ SSRë¡œ ìˆ˜ì •í•˜ê¸°ê¹Œì§€ ê³¼ì •ì„ ì •ë¦¬í•´ ë³´ë ¤ í•œë‹¤.</p>\n<h2>ğŸ˜… Firebaseì˜ APIë¥¼ ì´ìš©í•œ User ìƒíƒœ ê´€ë¦¬</h2>\n<p>ê¸°ì¡´ Authenticationì€ firebase Authë¥¼ ì´ìš©í•´ ë°›ì•„ì˜¨ userì •ë³´ì˜ <strong>tokenì„ localstorageì— ì €ì¥</strong>í•´ì„œ í™•ì¸í–ˆë‹¤. localstorageì— tokenì„ ì €ì¥í•˜ëŠ” ë°©ì‹ì€ ë³´ì•ˆì— ì·¨ì•½í•˜ë‹¤ëŠ” ì–˜ê¸°ë¥¼ ë§ì´ ë“¤ì–´, ìƒˆë¡œìš´ ë°©ë²•ì„ ê³ ë¯¼í•˜ê³  ìˆì—ˆë‹¤. ê³ ë¯¼ê³¼ì •ì—ì„œ firebaseì˜ APIë¡œ <code class=\"language-text\">onAuthStateChanged</code>ê°€ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆê³ , APIë¥¼ ì´ìš©í•œë‹¤ë©´ ë³„ë„ì˜ í† í°ê³¼ ì¿ í‚¤ë¥¼ ì§ì ‘ ì €ì¥í•˜ì§€ ì•Šì•„ë„ ë  ê²ƒì´ë€ ì˜ˆìƒì´ ë˜ì–´ ì ìš©í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">//AuthService.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AuthService</span> <span class=\"token punctuation\">{</span>\n  googleProvider<span class=\"token operator\">:</span> GoogleAuthProvider<span class=\"token punctuation\">;</span>\n  githubProvider<span class=\"token operator\">:</span> GithubAuthProvider<span class=\"token punctuation\">;</span>\n  auth<span class=\"token operator\">:</span> Auth<span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> app<span class=\"token operator\">:</span> FirebaseApp<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>googleProvider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GoogleAuthProvider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>githubProvider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GithubAuthProvider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>auth <span class=\"token operator\">=</span> <span class=\"token function\">getAuth</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>app<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token function\">onUserStateChanged</span><span class=\"token punctuation\">(</span>callback<span class=\"token operator\">:</span> Dispatch<span class=\"token operator\">&lt;</span>SetStateAction<span class=\"token operator\">&lt;</span>User <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">>></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">onAuthStateChanged</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">,</span> callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//AuthContext.tsx</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">InitialValue</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  authService<span class=\"token operator\">:</span> AuthService<span class=\"token punctuation\">;</span>\n  user<span class=\"token operator\">:</span> User <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> AuthContext <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createContext</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>InitialValue <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AuthProvider</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> children<span class=\"token punctuation\">,</span> authService <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> AuthProviderProps<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">,</span> setUser<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>User <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    authService<span class=\"token punctuation\">.</span><span class=\"token function\">onUserStateChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setUser</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AuthContext.Provider</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> user<span class=\"token punctuation\">,</span> authService <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">AuthContext.Provider</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useAuthService</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> <span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>AuthContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>context<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Not under AuthProvider'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> context<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p>ì´ë ‡ê²Œ ìˆ˜ì •í•˜ê³  APIë¥¼ ì´ìš©í•´ loginìƒíƒœë¥¼ í™•ì¸í•´ì„œ í˜ì´ì§€ ì´ë™ì„ í•˜ë‹¤ ë³´ë‹ˆ ë‹¤ë¥¸ ë¬¸ì œê°€ ìƒê²¼ë‹¤. ëœë”ë§ì„ í•˜ê³  APIë¡œ userìƒíƒœë¥¼ ë°”ê¾¸ê¸° ì „, ì´ˆê¸° ê°’ì´ nullë¡œ ë˜ì–´ìˆì–´ API í˜¸ì¶œì‹œ <strong>userê°€ ì—†ëŠ” ìƒíƒœë¡œ í˜¸ì¶œ</strong>ë˜ì–´ ì—ëŸ¬ê°€ ë‚˜íƒ€ë‚¬ë‹¤. ìš°ì„  useJobs í›… ë‚´ë¶€ì— useEffectë¡œ userìƒíƒœê°€ ë‹¬ë¼ì§€ë©´ refetchí•´ ë°›ì•„ì˜¬ ìˆ˜ ìˆê²Œ í•´ê²°í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useSpecificJobs</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useAuthService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> query <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> query<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> dbService <span class=\"token operator\">=</span> <span class=\"token function\">useDBService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> getFilteredJobs <span class=\"token operator\">=</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">[</span><span class=\"token constant\">JOBS_KEY</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">return</span> dbService<span class=\"token punctuation\">.</span><span class=\"token function\">getJobs</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token function-variable function\">select</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>data<span class=\"token operator\">:</span> ModifiedJobsType<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>data<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">onError</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    getFilteredJobs<span class=\"token punctuation\">.</span><span class=\"token function\">refetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì±„ìš©ê³µê³ ë“¤ì„ ë°›ì•„ì˜¤ëŠ” ê³¼ì •ì´ ëŠ˜ì–´ë‚˜ê²Œ ë˜ì–´ <strong>ê°™ì€ APIë¥¼ ë‘ë²ˆ í˜¸ì¶œí•˜ëŠ” ê³¼ì •ì—ì„œ ì‹œê°„ì´ ë” ì˜¤ë˜ ê±¸ë¦¬ê²Œ ë˜ì—ˆë‹¤</strong>.</p>\n<p>[í˜¸ì¶œ ê³¼ì •]</p>\n<ol>\n<li>ë©”ì¸ í˜ì´ì§€ ë Œë”ë§</li>\n<li>APIí˜¸ì¶œ</li>\n<li>Userìƒíƒœ ì—…ë°ì´íŠ¸</li>\n<li>API ì¬í˜¸ì¶œ</li>\n</ol>\n<p>í•´ê²°ë°©ë²•ìœ¼ë¡œ userë¥¼ ë¨¼ì € ë°›ê³  APIì½œì„ í•˜ëŠ” ë°©ë²•ê³¼, authë¥¼ server-sideë¡œ ë¨¼ì € ë°›ì•„ì˜¤ëŠ” ë°©ë²• ë‘ê°€ì§€ ë°©ë²•ì´ ë– ì˜¬ëë‹¤. ê·¸ì¤‘ ë¨¼ì € í˜„ì¬ ì§„í–‰í•˜ê³  ìˆëŠ” CSRì—ì„œ í•´ê²°ë°©ë²•ì„ ì°¾ì•„ë³´ì•˜ë‹¤.</p>\n<h2>ğŸ’» CSRì—ì„œì˜ í•´ê²°ë²•: Protected Route ë„ì…</h2>\n<p>CSRì—ì„œ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” fetchë¡œ userë¥¼ ë°›ì•„ì˜¨ í›„ì— apië¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ í•´ì•¼ í–ˆë‹¤. ê²€ìƒ‰í•´ì„œ ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ê²ƒì€ Protected Routeë¼ëŠ” HOCë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ì´ì—ˆë‹¤.</p>\n<h3>1) ë¡œê·¸ì¸ flow ìˆ˜ì •í•˜ê¸°</h3>\n<p>ë¨¼ì € ê°€ì¥ ì‹œê¸‰í•œ ë¬¸ì œëŠ” ë¡œê·¸ì¸ í›„ì— ë©”ì¸ í˜ì´ì§€ ì´ë™ì‹œì— Userê°€ ì—†ëŠ” ìƒíƒœë¡œ APIê°€ í˜¸ì¶œëœë‹¤ëŠ” ì ì´ì—ˆë‹¤. ì´ê²ƒì„ ë§‰ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € userìƒíƒœë¥¼ ê´€ë¦¬í•´ ì¤„ ìˆ˜ ìˆëŠ” componentê°€ í•„ìš”í–ˆê³ , AuthStateChangedë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë˜ë©´ ë¨¼ì € Userë¥¼ ë°›ì•„ì˜¤ê³ , ì´í›„ì— ë©”ì¸ í˜ì´ì§€ê°€ ë Œë”ë§ ë  ìˆ˜ ìˆê²Œ í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// AuthStateChanged.tsx</span>\n\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useEffect<span class=\"token punctuation\">,</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useAuthService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../context/AuthContext'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">AuthStateChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  children<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  children<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ReactNode<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> authService<span class=\"token punctuation\">,</span> setUser <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useAuthService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>loading<span class=\"token punctuation\">,</span> setLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    authService<span class=\"token punctuation\">.</span><span class=\"token function\">onUserStateChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setUser</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>loading<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">ë¡œë”©ì¤‘</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">;\n  }\n\n  return </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">;\n}\n\n// _app.tsx\n\nfunction MyApp(</span><span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> pageProps <span class=\"token punctuation\">}</span><span class=\"token plain-text\">: AppProps) </span><span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">QueryClientProvider</span></span> <span class=\"token attr-name\">client</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>queryClient<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DBProvider</span></span> <span class=\"token attr-name\">dbService</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>dbService<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AuthProvider</span></span> <span class=\"token attr-name\">authService</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>authService<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AuthStateChanged</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ThemeProvider</span></span> <span class=\"token attr-name\">theme</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>theme<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">GlobalStyle</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Component</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>pageProps<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ThemeProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">AuthStateChanged</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">AuthProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">DBProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">QueryClientProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\nexport default MyApp;</span></code></pre></div>\n<p>Userê°€ ìˆì–´ì•¼ë§Œ ë‹¤ìŒ ì»´í¬ë„ŒíŠ¸ë“¤ë¡œ ë„˜ì–´ê°€ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ì´ì „ ê°€ì¥ í° ë¬¸ì œì˜€ë˜ APIë¥¼ ì •ìƒì ìœ¼ë¡œ í•œë²ˆë§Œ í˜¸ì¶œí•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\n<p>í•˜ì§€ë§Œ ì—¬ì „íˆ ì‚´ì§ ë¬¸ì œê°€ ë‚¨ì•„ìˆì—ˆë˜ ê²ƒì€ AuthStateChangedì—ì„œ Userë¥¼ ë°›ì•„ì˜¤ëŠ” ë™ì•ˆ <strong>í™”ë©´ì— ë¡œë”©ì„ ë³´ì—¬ì¤˜ì•¼ í•œë‹¤</strong>ëŠ” ì ì´ì—ˆë‹¤. ë¡œë”©ì„ ì•ˆ ë³´ì—¬ì£¼ê¸° ìœ„í•´ loadingì´ trueì¼ ë•Œ <code class=\"language-text\">&lt;>&lt;/></code> ë¦¬ì•¡íŠ¸ fragmentë¡œ ë°˜í™˜í•œë‹¤ í•´ë„ ì—¬ì „íˆ ë¶ˆëŸ¬ì˜¤ëŠ” ë™ì•ˆì˜ ë¹ˆ í˜ì´ì§€ê°€ ë³´ì˜€ë‹¤.</p>\n<p>[AuthStateChanged ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€í•œ í›„ ìƒˆë¡œê³ ì¹¨í•œ ëª¨ìŠµ]</p>\n<p><img src=\"/static/%EC%83%88%EB%A1%9C%EA%B3%A0%EC%B9%A8-6af282af41ee41149f0df9f1fef67202.gif\" alt=\"ìƒˆë¡œê³ ì¹¨\"></p>\n<h3>2) Protected Route</h3>\n<p>ë‘ ë²ˆì§¸ë¡œ ë¡œê·¸ì¸í•˜ì§€ ì•Šê³  ë©”ì¸ í˜ì´ì§€ì— ì ‘ì†í•˜ëŠ” ê²½ìš°ì™€ ë¡œê·¸ì¸ í›„ì—ë„ ë¡œê·¸ì¸ í˜ì´ì§€ì— ì ‘ì†í•˜ë ¤ëŠ” ê²½ìš°ë¥¼ ë§‰ê¸° ìœ„í•œ ë¦¬ë‹¤ì´ë ‰ì…˜ ë¡œì§ì´ í•„ìš”í–ˆë‹¤. ì´ê²ƒì„ ìœ„í•´ì„œ AuthStateChanged ì»´í¬ë„ŒíŠ¸ì™€ ìœ ì‚¬í•˜ê²Œ ì¡°ê±´ì— ë”°ë¼ ë Œë”ë§ì„ í•´ì¤„ ìˆ˜ ìˆëŠ” ProtectedRoutes ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€í–ˆë‹¤. Protected RouteëŠ” í•„ìš”í•œ í˜ì´ì§€ì— ë§ê²Œ ì‚¬ìš©ë˜ì–´ì•¼ í–ˆê¸° ë•Œë¬¸ì— typeì„ ì •í•  ë•Œ Genericì„ ì´ìš©í•´ ì •í•´ ì¤„ ìˆ˜ ìˆì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">//ProtectRoute.tsx</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"next/router\"</span>\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> ComponentType <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useAuthService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../context/AuthContext\"</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">withPublic</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>Component<span class=\"token operator\">:</span> ComponentType<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">WithPublic</span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> auth <span class=\"token operator\">=</span> <span class=\"token function\">useAuthService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">useRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      router<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Component</span></span> <span class=\"token attr-name\">auth</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>auth<span class=\"token punctuation\">}</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">withProtected</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>Component<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ComponentType<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">WithProtected</span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> auth <span class=\"token operator\">=</span> <span class=\"token function\">useAuthService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">useRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>auth<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      router<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/login\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Component</span></span> <span class=\"token attr-name\">auth</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>auth<span class=\"token punctuation\">}</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// pages/login.tsx</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Login</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">withPublic</span><span class=\"token punctuation\">(</span>Login<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Pages/register.tsx</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Register</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">withPublic</span><span class=\"token punctuation\">(</span>Register<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// pages/index.tsx</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Home</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">withProtected</span><span class=\"token punctuation\">(</span>Home<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// pages/job/[id].tsx</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Index</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">withProtected</span><span class=\"token punctuation\">(</span>Index<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Protected Routeë¥¼ ì´ìš©í•´ ë¡œê·¸ì¸ì„ í•œ í›„ì— homeì—ì„œ loginìœ¼ë¡œ ì´ë™í•˜ê±°ë‚˜ ë¡œê·¸ì¸ì„ í•˜ì§€ ì•Šê³  loginì—ì„œ homeìœ¼ë¡œì˜ ì´ë™ì„ ë§‰ì„ ìˆ˜ ìˆì—ˆë‹¤. í•˜ì§€ë§Œ ì—¬ì „íˆ ì•ì„œ ë¬¸ì œê°€ ë˜ì—ˆë˜ í˜ì´ì§€ ì´ë™ì‹œê°„ë™ì•ˆ <strong>ë¡œë”©ì„ ë³´ì—¬ì¤˜ì•¼ í•˜ëŠ” ë¬¸ì œ</strong>ê°€ ìˆì—ˆë‹¤.</p>\n<p>Protected Routesë¥¼ ì•Œê¸° ì „ì— í•´ê²°ë°©ë²•ìœ¼ë¡œ ë– ì˜¬ë ¸ë˜ <strong>ì„œë²„ì‚¬ì´ë“œì—ì„œ authë¥¼ ë¯¸ë¦¬ ë°›ì•„ì™€</strong> ë Œë”ë§ ì „ì— ì²´í¬í•œ í›„ì—, í•´ë‹¹ í˜ì´ì§€ì—ì„œ authë¥¼ ë°”ë¡œ ë°›ì•„ë³¼ ìˆ˜ ìˆë‹¤ë©´ ì¢€ ë” ë¡œì§ë„ ê°„ë‹¨í•´ì§€ê³ , nextë¥¼ ì˜ í™œìš©í•˜ëŠ” ë°©ë²•ì´ ë˜ì§€ ì•Šì„ê¹Œë¼ëŠ” ìƒê°ì´ ë“¤ì–´ ë‹¤ì‹œ ì°¾ì•„ë³´ê¸° ì‹œì‘í–ˆë‹¤.</p>\n<h2>ğŸ’¾ Next-authë¥¼ ì´ìš©í•œ SSRë¡œ ì „í™˜</h2>\n<p>SSRì„ ì´ìš©í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ì°¾ê¸°ìœ„í•´ Next JS ê³µì‹ ì‚¬ì´íŠ¸ë¥¼ ì°¾ì•„ë³´ë‹ˆ, ì œì‹œëœ ë°©ë²•ìœ¼ë¡œ <code class=\"language-text\">with-iron-session</code>ê³¼ <code class=\"language-text\">next-auth</code>ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ì´ì—ˆë‹¤. ê·¸ì¤‘ì—ì„œ ê¸°ì¡´ ì§€ì›í–ˆë˜ OAuthë¥¼ ì´ìš©í•œ ë¡œê·¸ì¸ ë°©ì‹ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” <strong>next-auth</strong>ë¥¼ ì„ íƒí–ˆë‹¤.</p>\n<p>[next auth]\n<figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/07dfc7a7fbbdf936a0f78809274688e7/c7953/next-auth.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 47.64705882352941%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABzElEQVR42mVSy27UMBTtl/EvLPiE7hASf8BjVSHUiqK2Gx4Si4GKlkpFIBU0U1SxAMpMmZapZkjiOLETv+LDjZNMGGHp+trHx8dH93ot4xxFIZFEKc7PZuAsg6S9lBLee6Cq4JWBrzxo12C00sbi63iO39cLSCGRcgEhS6zRKazzeLpxio07Axxsf6qhcBmVw/nJEO+eH2E8mvQ4za+/RXgySvHh0sK4KqAVPR4EF5HBjVt7uL19iJ2Hp1C8DAQIjoPNXazffYzB1j68cQHWTmMwneHtdYEHxzMsMh1wa10jWI/7m19wc/0zRkeLxoNv3MyPP+Lk3g5+vD9b4vXJhYjwaPgdz4ZXnQTKsuwFDdUpuZp3N9pakclcYPJzDKXUCl6qEpPpJbTW/wtaa5FLgUzm1KCCSuewxPOcCs4hhIBrcWMNcpEjzzLKIvA6fhCsOxrHMZIkCbl7tRb/E8WIE4aIzjpcawNGe8ZY4BtjVptSW03TFJxeZJSXBGegMwZFYcm9rxqHSrV8ngYTXTmWgqvDt1+Duq893iQO+3UwB259z/C+57frIGhocvRp67/UhabwhF/kDi9+GbyaGrykPC9cuKT/4Rrbh9IWfwHckvleUnmoJwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='next auth' title='' src='/static/07dfc7a7fbbdf936a0f78809274688e7/ca1dc/next-auth.png' srcset='/static/07dfc7a7fbbdf936a0f78809274688e7/e7570/next-auth.png 170w,\n/static/07dfc7a7fbbdf936a0f78809274688e7/f46e7/next-auth.png 340w,\n/static/07dfc7a7fbbdf936a0f78809274688e7/ca1dc/next-auth.png 680w,\n/static/07dfc7a7fbbdf936a0f78809274688e7/02d09/next-auth.png 1020w,\n/static/07dfc7a7fbbdf936a0f78809274688e7/9d567/next-auth.png 1360w,\n/static/07dfc7a7fbbdf936a0f78809274688e7/c7953/next-auth.png 1896w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>next auth</figcaption>\n  </figure></p>\n<p>Next-authëŠ” Next jsì—ì„œ ì‰½ê²Œ ì¸ì¦ê³¼ì •ì„ êµ¬í˜„í•´ ì¤„ ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, API Routesë¥¼ ì´ìš©í•´ ì„œë²„ë‹¨ì—ì„œ sessionê³¼ í† í°ì„ ë§Œë“¤ê³  í™•ì¸í•´ clientì—ì„œ í•„ìš”í–ˆë˜ í™•ì¸ë¡œì§ì„ ì¤„ì—¬ì¤„ ìˆ˜ ìˆë‹¤. Next Authë¥¼ ê³µë¶€í•˜ë©´ì„œ êµ‰ì¥íˆ ë‹¤ì–‘í•œ Providerë“¤ì„ OAuthë¡œ ì œê³µí•´ì¤€ë‹¤ëŠ” ì ì´ ë†€ë¼ì› ë‹¤. íŠ¹íˆ, ì¹´ì¹´ì˜¤í†¡ê³¼ ë„¤ì´ë²„ë„ ì§€ì›í•´ì¤€ë‹¤ëŠ” ì ì´ ì‹ ê¸°í–ˆê³ , ë‹¤ì–‘í•œ DBì™€ë„ ì—°ë™í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ ì¢‹ì•˜ë‹¤.</p>\n<p>SSRì„ Next-authë¡œ ì ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê²Œ ëœ í›„ì—, ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì˜ ì‚¬ìš©í•˜ê¸° ìœ„í•´ <strong>ì¸ì¦, ì¸ê°€ ê³¼ì •</strong>ê³¼ ì•ì„œ ì‚¬ìš©í–ˆë˜ ë°©ì‹ì¸ <strong>local storageì— ë‘ëŠ” ë°©ì‹ì´ ì™œ ì•ˆ ì¢‹ì€ì§€</strong>ì— ëŒ€í•´ ì´í•´í•˜ê³ , <strong>Next-authê°€ í•´ê²°ì±…ì´ ë  ìˆ˜ ìˆëŠ”ì§€</strong> ê³ ë¯¼í–ˆë‹¤.</p>\n<h3>ğŸ˜– í† í°ì„ localStorageì— ë‘ë©´ ì•ˆë˜ëŠ” ì´ìœ </h3>\n<p>local storageëŠ” ë¸Œë¼ìš°ì €ê°€ ë‹«í˜€ë„ ìœ ì§€ë˜ê¸° ë•Œë¬¸ì— ë¡œê·¸ì¸ì„ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ê°„í¸í•œ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©í•´ì™”ë‹¤. í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ì‹ì€ <code class=\"language-text\">XSS (Cross-Site Scripting) ê³µê²©</code>ì— ì·¨ì•½í•œ ë‹¨ì ì„ ê°€ì§„ë‹¤.</p>\n<h4>XSS (Cross-site scripting)</h4>\n<p>XSS ê³µê²©ì€ ì›¹ì‚¬ì´íŠ¸ì— <strong>ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì£¼ì…í•˜ëŠ” ë°©ì‹</strong>ìœ¼ë¡œ ì£¼ë¡œ í˜ì´ì§€ì˜ inputì´ë‚˜ formì„ ì´ìš©í•´ ê³µê²©í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì£¼ì…í•´ë†“ì€ ì‚¬ì´íŠ¸ì— ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ê²Œ ë  ê²½ìš°ì— ì‚¬ìš©ìì˜ í† í°, ì¿ í‚¤ ë“±ì˜ ì •ë³´ë¥¼ ë¹¼ë‚¼ ìˆ˜ ìˆê²Œ ëœë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” localstorageë‚˜ ë³„ë„ì˜ ì˜µì…˜ì´ ì—†ëŠ” ì¿ í‚¤ì— í† í°ì„ ì €ì¥í•˜ê²Œ ë  ê²½ìš°ì—ëŠ” XSS ê³µê²©ì— ì·¨ì•½í•˜ê²Œ ëœë‹¤.</p>\n<img src='https://cdn.inflearn.com/public/files/courses/327087/fbade0da-7961-4789-b25b-106f68ba9abb/blob' width='800'>\n<p>ì´ê²ƒì„ ë§‰ê¸° ìœ„í•´ì„œëŠ” <code class=\"language-text\">in-memoryì— ì €ì¥í•˜ëŠ” ë°©ì‹</code>ê³¼ <code class=\"language-text\">http only ì¿ í‚¤</code>ë¥¼ ì´ìš©í•˜ëŠ” ë°©ì‹ì´ ìˆë‹¤. in-memoryì— ì €ì¥í•  ê²½ìš°ì—ëŠ” ê´€ë¦¬ëŠ” ì‰½ì§€ë§Œ ë¡œê·¸ì¸ì„ ìœ ì§€í•  ìˆ˜ê°€ ì—†ëŠ” ë‹¨ì ì´ ìˆì–´, ë³´í†µ http only ì¿ í‚¤ë¡œ ì„œë²„ì—ì„œ í† í°ì„ ë³´ë‚´ì£¼ë©´ ë¸Œë¼ìš°ì €ì— ì €ì¥í•˜ê³  ìë™ìœ¼ë¡œ ìš”ì²­ì‹œ ë‹´ì•„ì„œ ë³´ë‚´ëŠ” ë°©ì‹ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ http only ì¿ í‚¤ë¡œ í† í°ì„ ì €ì¥í•˜ëŠ” ë°©ë²•ë„ <code class=\"language-text\">CSRF ê³µê²©</code>ì— ì•½í•œ ë‹¨ì ì´ ì¡´ì¬í•œë‹¤.</p>\n<h4>CSRF(Cross-site Request Forgery)</h4>\n<p>CSRFê³µê²©ì€ ì‚¬ìš©ìê°€ ì›í•˜ì§€ ì•Šì€ actionì„ í•˜ê²Œí•˜ëŠ” í•´í‚¹ ë°©ë²•ìœ¼ë¡œ, ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì´ìš©í•´ ì‚¬ìš©ì ëª°ë˜ ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ì–´ìˆëŠ” ì¿ í‚¤ë¥¼ ì´ìš©í•´ ìš”ì²­ì„ ë³´ë‚´ëŠ” ë°©ì‹ì´ë‹¤. http onlyë¡œ ëœ ì¿ í‚¤ì´ê¸° ë•Œë¬¸ì— í•´í‚¹ë²”ì´ ì¿ í‚¤ë¥¼ ì§ì ‘ ë¹¼ì˜¬ ìˆ˜ëŠ” ì—†ì§€ë§Œ, ëŒ€ì‹  ìì‹ ì´ ì›í•˜ëŠ” ìš”ì²­ì— ì‚¬ìš©ìì˜ í† í°ì„ ì´ìš©í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê·¸ë ‡ê¸° http only ì¿ í‚¤ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì¶”ê°€ì ì¸ ì¸ì¦ë°©ì‹ì´ í•„ìš”í•œë°, ì´ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ <code class=\"language-text\">CSRF í† í°</code>ì´ë‹¤.</p>\n<img src='https://velog.velcdn.com/images%2Fgwanuuoo%2Fpost%2F7f926efe-4b52-49d9-8dfd-78b26c0c1bb1%2FScreen%20Shot%202021-06-27%20at%202.15.28%20PM.png' width='500'>\n<p>CSRF í† í°ì€ ì„œë²„ì—ì„œ ë°œê¸‰í•˜ëŠ” ì¸ì¦ìš© í† í°ìœ¼ë¡œ, í´ë¼ì´ì–¸íŠ¸ëŠ” ë°›ì€ í† í°ì„ in-memoryì— ì €ì¥í•´ ë‘ê³  ì´í›„ ìš”ì²­ì— í† í°ì„ í•¨ê»˜ ë³´ë‚¸ë‹¤. ë§Œì•½ì— í•´í‚¹ë²”ì´ CSRFê³µê²©ì„ í•œ í›„ì— ì‚¬ìš©ìì˜ ì¿ í‚¤ë¥¼ ì´ìš©í•´ ìš”ì²­ì„ ë³´ë‚´ë”ë¼ë„, ì‚¬ìš©ìê°€ ì§ì ‘ë³´ë‚´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ë©´ í† í°ì´ ì—†ê¸° ë•Œë¬¸ì— ì„œë²„ê°€ í™•ì¸í•  ìˆ˜ ìˆê²Œí•´ ê³µê²©ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.</p>\n<img src='https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F993D89425DFDDDD614' width='500'>\n<p>ê·¸ëŸ¬ë©´ Next-authë¥¼ ì´ìš©í•œ ì¸ì¦ë°©ì‹ì€ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ê³  ìˆì„ê¹Œ?</p>\n<h3>Next-authì˜ ë³´ì•ˆ ë°©ì‹ê³¼ ì ìš©</h3>\n<p>Next-authëŠ” OAuthì™€ JWTë¥¼ ì§€ì›í•˜ê³ , ë¬´ì—‡ë³´ë‹¤ ê³ ë¯¼í–ˆë˜ ë³´ì•ˆ ë¬¸ì œë¥¼ í•œë²ˆì— í•´ê²°í•´ ì¤„ ìˆ˜ ìˆì—ˆë‹¤. <code class=\"language-text\">CSRFí† í°</code>ì„ POST ìš”ì²­ì— ì ìš©í•˜ê³ , ì¸ì¦ì„ ìœ„í•œ í† í°ê³¼ ì„¸ì…˜ë“¤ì„ <code class=\"language-text\">server-readable-only cookie</code>ë¡œ ìë™ìœ¼ë¡œ ê´€ë¦¬í•´ì¤€ë‹¤. ë‘ê°€ì§€ ë•ë¶„ì— ì•ì„œ ì•Œì•„ë³´ì•˜ë˜ XSSê³µê²©ê³¼ CSRF ê³µê²©ì„ ë°©ì–´í•˜ë©´ì„œ ì¸ì¦ì„ í¸í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ í™•ì¸í–ˆë‹¤.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/07dfc7a7fbbdf936a0f78809274688e7/c7953/next-auth.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 47.64705882352941%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABzElEQVR42mVSy27UMBTtl/EvLPiE7hASf8BjVSHUiqK2Gx4Si4GKlkpFIBU0U1SxAMpMmZapZkjiOLETv+LDjZNMGGHp+trHx8dH93ot4xxFIZFEKc7PZuAsg6S9lBLee6Cq4JWBrzxo12C00sbi63iO39cLSCGRcgEhS6zRKazzeLpxio07Axxsf6qhcBmVw/nJEO+eH2E8mvQ4za+/RXgySvHh0sK4KqAVPR4EF5HBjVt7uL19iJ2Hp1C8DAQIjoPNXazffYzB1j68cQHWTmMwneHtdYEHxzMsMh1wa10jWI/7m19wc/0zRkeLxoNv3MyPP+Lk3g5+vD9b4vXJhYjwaPgdz4ZXnQTKsuwFDdUpuZp3N9pakclcYPJzDKXUCl6qEpPpJbTW/wtaa5FLgUzm1KCCSuewxPOcCs4hhIBrcWMNcpEjzzLKIvA6fhCsOxrHMZIkCbl7tRb/E8WIE4aIzjpcawNGe8ZY4BtjVptSW03TFJxeZJSXBGegMwZFYcm9rxqHSrV8ngYTXTmWgqvDt1+Duq893iQO+3UwB259z/C+57frIGhocvRp67/UhabwhF/kDi9+GbyaGrykPC9cuKT/4Rrbh9IWfwHckvleUnmoJwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='next-auth' title='' src='/static/07dfc7a7fbbdf936a0f78809274688e7/ca1dc/next-auth.png' srcset='/static/07dfc7a7fbbdf936a0f78809274688e7/e7570/next-auth.png 170w,\n/static/07dfc7a7fbbdf936a0f78809274688e7/f46e7/next-auth.png 340w,\n/static/07dfc7a7fbbdf936a0f78809274688e7/ca1dc/next-auth.png 680w,\n/static/07dfc7a7fbbdf936a0f78809274688e7/02d09/next-auth.png 1020w,\n/static/07dfc7a7fbbdf936a0f78809274688e7/9d567/next-auth.png 1360w,\n/static/07dfc7a7fbbdf936a0f78809274688e7/c7953/next-auth.png 1896w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>next-auth</figcaption>\n  </figure></p>\n<p>Next authì— ëŒ€í•´ ê³µë¶€í•˜ë©´ì„œ ê¸°ë³¸ì ìœ¼ë¡œ passwordë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°©í–¥ì„ ì§€í–¥í•œë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ëŠ” ë³´í†µ í•˜ë‚˜ì˜ ë¹„ë°€ë²ˆí˜¸ê°€ ì—¬ëŸ¬ ê³³ì— ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ë³´ì•ˆì— ë¯¼ê°í•œ ì‚¬í•­ì´ë¼ê³  ìƒê°í•´, ê¸°ì¡´ íšŒì›ê°€ì…-ë¡œê·¸ì¸ ë¡œì§ ëŒ€ì‹ ì— \"ì´ë©”ì¼ ì¸ì¦\"ìœ¼ë¡œ êµì²´í•˜ê³ , OAuthë¡œ \"êµ¬ê¸€\"ê³¼ \"Github\"ë¥¼ ì´ìš©í•œ ì´ ì„¸ê°€ì§€ ë°©ì‹ì˜ ì¸ì¦ê³¼ì •ì„ ì§„í–‰í•˜ê¸°ë¡œ í–ˆë‹¤.</p>\n<p>OAuthë¥¼ ì´ìš©í•  ë•Œë„ ê³ ë ¤í•´ì•¼í•  ì ì€, ë‹¤ë¥¸ í”Œë«í¼ì´ì§€ë§Œ ê°™ì€ emailì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì´ë‹¤. ê³ ë¯¼ì„ í•´ë³´ì•˜ì„ ë•Œ ë‹¤ë¥¸ í”Œë«í¼ì´ì§€ë§Œ ê°™ì€ emailë¡œ ì ‘ì†í–ˆì„ ë•Œ ê°™ì€ ì±„ìš©ê³µê³ ë“¤ì„ ë³´ì—¬ì¤˜ë„ ê´œì°®ì„ ê²ƒ ê°™ì•„ ì´ë¶€ë¶„ì€ provider ì˜µì…˜ì— <code class=\"language-text\">allowDangerousEmailAccountLinking</code>ì„ ì¶”ê°€í•´ì„œ ì²˜ë¦¬í–ˆë‹¤.</p>\n<h3>ì‚¬ìš© ë°©ë²•</h3>\n<p>Next-authë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ìš°ì„  <code class=\"language-text\">pages/api/auth/[...nextauth].ts</code>ë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤. ë‚´ê°€ ì‚¬ìš©í•œ <code class=\"language-text\">[...nextauth].ts</code>íŒŒì¼ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ê³ , ì½”ë“œì˜ ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ì„œ ê³µí†µ ë¶€ë¶„ì„ ì„¤ëª…í•˜ê³  ê°ê°ì˜ providerë“¤ì˜ ì—°ê²°ì„ ì •ë¦¬í•´ë³´ë ¤ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> GoogleProvider <span class=\"token keyword\">from</span> <span class=\"token string\">\"next-auth/providers/google\"</span>\n<span class=\"token keyword\">import</span> GithubProvider <span class=\"token keyword\">from</span> <span class=\"token string\">\"next-auth/providers/github\"</span>\n<span class=\"token keyword\">import</span> EmailProvider <span class=\"token keyword\">from</span> <span class=\"token string\">\"next-auth/providers/email\"</span>\n<span class=\"token keyword\">import</span> NextAuth <span class=\"token keyword\">from</span> <span class=\"token string\">\"next-auth\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> PrismaAdapter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@next-auth/prisma-adapter\"</span>\n<span class=\"token keyword\">import</span> prisma <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../../prisma/prisma\"</span>\n<span class=\"token keyword\">import</span> nodemailer <span class=\"token keyword\">from</span> <span class=\"token string\">\"nodemailer\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> html<span class=\"token punctuation\">,</span> text <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../../src/utils/emailFormat\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">NextAuth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  providers<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token function\">GoogleProvider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      clientId<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GOOGLE_ID</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n      clientSecret<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GOOGLE_SECRET</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n      allowDangerousEmailAccountLinking<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">GithubProvider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      clientId<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GITHUB_ID</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n      clientSecret<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GITHUB_SECRET</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n      allowDangerousEmailAccountLinking<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">EmailProvider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      server<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">EMAIL_SERVER</span><span class=\"token punctuation\">,</span>\n      from<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">EMAIL_FROM</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">async</span> <span class=\"token function\">sendVerificationRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        identifier<span class=\"token operator\">:</span> email<span class=\"token punctuation\">,</span>\n        url<span class=\"token punctuation\">,</span>\n        provider<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> server<span class=\"token punctuation\">,</span> from <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> host <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">URL</span></span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">const</span> transport <span class=\"token operator\">=</span> nodemailer<span class=\"token punctuation\">.</span><span class=\"token function\">createTransport</span><span class=\"token punctuation\">(</span>server<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">await</span> transport<span class=\"token punctuation\">.</span><span class=\"token function\">sendMail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          to<span class=\"token operator\">:</span> email<span class=\"token punctuation\">,</span>\n          from<span class=\"token punctuation\">,</span>\n          subject<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Sign in to </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>host<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n          text<span class=\"token operator\">:</span> <span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> url<span class=\"token punctuation\">,</span> host <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          html<span class=\"token operator\">:</span> <span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> url<span class=\"token punctuation\">,</span> host<span class=\"token punctuation\">,</span> email <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n  session<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    strategy<span class=\"token operator\">:</span> <span class=\"token string\">\"jwt\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  adapter<span class=\"token operator\">:</span> <span class=\"token function\">PrismaAdapter</span><span class=\"token punctuation\">(</span>prisma<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  pages<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    signIn<span class=\"token operator\">:</span> <span class=\"token string\">\"/login\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  secret<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">JWT_SECRET</span><span class=\"token punctuation\">,</span>\n  debug<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  callbacks<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">async</span> <span class=\"token function\">session</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> session<span class=\"token punctuation\">,</span> token<span class=\"token punctuation\">,</span> user <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      session<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>id\n      <span class=\"token keyword\">return</span> session\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>ê³µí†µ ë¶€ë¶„</h3>\n<ul>\n<li>secret: ë°°í¬ ë•Œ, JWTë¥¼ ë§Œë“œëŠ”ë° ì‚¬ìš©ë  secretìœ¼ë¡œ í„°ë¯¸ë„ì— <code class=\"language-text\">openssl rand -base64 32</code> ì„ ì…ë ¥í•´ ë§Œë“¤ì–´ì§„ í‚¤ë¥¼ envì— ì¶”ê°€í•´ ì—°ê²°í–ˆë‹¤.</li>\n<li>debug: ì—°ê²°ëœ providerì˜ í† í° ë‚´ìš©ì´ë‚˜ ì—ëŸ¬ë“¤ì„ ë³¼ ìˆ˜ ìˆëŠ” ì˜µì…˜ìœ¼ë¡œ í„°ë¯¸ë„ë¡œ ë‚´ìš©ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>\n<li>callbacks: ì¸ì¦ê³¼ì •ì—ì„œ í•„ìš”í•œ ë‚´ìš©ë“¤ì„ ì»¤ìŠ¤í…€í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œ APIì— í•„ìš”í•œ idë¥¼ ê°’ì„ ê¸°ë³¸ì ìœ¼ë¡œ <code class=\"language-text\">session/user</code>ì— ë‹´ê²¨ìˆì§€ ì•Šì•„ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.</li>\n<li>pages: custom ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ ì—°ê²°í•  urlì„ ì „ë‹¬í•´ ì¤„ ìˆ˜ ìˆë‹¤.</li>\n<li>session: databaseì™€ ì—°ê²°í•˜ê²Œ ë˜ë©´ ì‚¬ìš©ì ì •ë³´ê°€ ì„¸ì…˜ìœ¼ë¡œ ê´€ë¦¬ë˜ê¸° ë•Œë¬¸ì— jwtë¡œ ë³€ê²½í–ˆë‹¤. databaseë¥¼ ì—°ê²°í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ jwtê°€ ëœë‹¤.</li>\n</ul>\n<p>callbacksì—ì„œ ì¶”ê°€í•  ë¶€ë¶„ì€ íƒ€ì…ë„ ì¶”ê°€í•´ì¤˜ì•¼í•˜ê¸° ë•Œë¬¸ì— <code class=\"language-text\">next-auth.d.ts</code>ì—ì„œ ì •ì˜í•´ì£¼ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// types/next-auth.d.ts</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> DefaultUser <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"next-auth\"</span>\n<span class=\"token keyword\">declare</span> <span class=\"token keyword\">module</span> <span class=\"token string\">\"next-auth\"</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Session</span> <span class=\"token punctuation\">{</span>\n    user<span class=\"token operator\">:</span> DefaultUser <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">{</span>\n      id<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Adapter</h3>\n<p>ì‚¬ìš©ìì •ë³´ë“¤ì„ ì €ì¥í•  DBë¥¼ ì—°ê²°í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œ, next-authëŠ” ë‹¤ì–‘í•œ DBë¥¼ ì§€ì›í•œë‹¤. ê·¸ì¤‘ì—ì„œ ê¸°ì¡´ì— ì‚¬ìš©í•˜ë˜ firebase ëŒ€ì‹ ì— prismaë¥¼ ì´ìš©í•´ ì—°ê²°í–ˆë‹¤. Firebaseë¥¼ ì‚¬ìš©í•˜ë ¤í–ˆì§€ë§Œ í˜„ì¬ next-authê°€ version 4ë¡œ ì—…ë°ì´íŠ¸ í•˜ë©´ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í–ˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ ìƒˆë¡œìš´ Databaseë¥¼ ì°¾ë‹¤ê°€ <code class=\"language-text\">prisma</code>ë¥¼ ì‚¬ìš©í–ˆë‹¤. <code class=\"language-text\">Prisma</code>ëŠ” ORMìœ¼ë¡œ SQL DBì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì§€ë§Œ í˜„ì¬ MongoDBê¹Œì§€ ì§€ì›í•´ì¤˜, ë°ì´í„°ì˜ schemaë¥¼ ê¸°ì…í•´ì„œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆê³ , ë‹¤ì–‘í•œ databaseë¥¼ ì§€ì›í•˜ëŠ” ì¥ì ë“¤ë¡œ ì„ íƒí–ˆë‹¤.</p>\n<h4>Prismaë¥¼ ì´ìš©í•œ DB ì—°ê²°</h4>\n<p>prismaë¥¼ ì´ìš©í•´ MongoDBë¥¼ ì—°ê²°í•˜ê¸° ìœ„í•´ì„œ next-authì˜ ê³µì‹ í™ˆí˜ì´ì§€ë¥¼ ì°¸ê³ í•˜ë©´ ë˜ì§€ë§Œ ì£¼ì˜í•  ë¶€ë¶„ì´ ìˆì—ˆë‹¤.</p>\n<p>ê³µì‹ í™ˆí˜ì´ì§€ì˜ schemaì˜ VerificationToken ë¶€ë¶„ì˜ idê°€ ì—†ê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ë°, ì´ê²ƒì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•´ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// ...</span>\n\nmodel VerificationToken <span class=\"token punctuation\">{</span>\n  id         String   <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">id</span></span> @<span class=\"token keyword\">default</span><span class=\"token punctuation\">(</span><span class=\"token function\">auto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">map</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">db</span></span><span class=\"token punctuation\">.</span>ObjectId\n  identifier String\n  token      String   <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">unique</span></span>\n  expires    DateTime <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">map</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"expiresAt\"</span><span class=\"token punctuation\">)</span>\n\n  @<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">unique</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>identifier<span class=\"token punctuation\">,</span> token<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  @<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">map</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"verification_tokens\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>OAuth</h3>\n<p>OAuthë¡œ ì‚¬ìš©í•œ Googleê³¼ Githubì— ì—°ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ê°ê° IDì™€ Secretì„ ì „ë‹¬í•´ì£¼ì–´ì•¼í•œë‹¤. ì´ë•Œ ë§ì´ ì—ëŸ¬ê°€ ë‚¬ë˜ ë¶€ë¶„ì€ ì¸ì¦ì´ ëë‚˜ê³  ëŒì•„ê°ˆ <code class=\"language-text\">callback</code>ì„ ì„¤ì •í•´ì£¼ëŠ” ë¶€ë¶„ì´ì—ˆë‹¤. ë°°í¬ë¥¼ í•˜ë©´ì„œ ì—ëŸ¬ê°€ ë§ì´ ë‚œ ë¶€ë¶„ì´ë¼ ë¯¸ë¦¬ ë¡œì»¬ê³¼ ë°°í¬ìš© ë‘ê°œì˜ OAuth ì¸ì¦ ì •ë³´ë¥¼ ë§Œë“¤ê³ , ê°ê° êµ¬ë¶„ëœ keyì™€ secretìœ¼ë¡œ <code class=\"language-text\">.env.local</code>ê³¼ <code class=\"language-text\">.env.production</code>ìœ¼ë¡œ í•´ë‘ì—ˆë‹¤ë©´ í—·ê°ˆë¦¬ì§€ ì•Šì•˜ì„í…ë°ë¼ëŠ” ì•„ì‰¬ì›€ì´ ë“ ë‹¤.</p>\n<h4>Google</h4>\n<p>Googleì˜ ê²½ìš°ëŠ” GCP(Google Cloud Platform)ì— ë“¤ì–´ê°€ ì‚¬ìš©ì ì¸ì¦ì •ë³´- OAuth Client IDë¥¼ ë§Œë“¤ë©´ ë˜ëŠ”ë° ì´ë•Œ ì£¼ì˜í•  ì ì€ urlì£¼ì†Œë¥¼ ì˜ ì ì–´ì£¼ì–´ì•¼í–ˆë‹¤.</p>\n<ul>\n<li>ê°œë°œ: url=<code class=\"language-text\">http://localhost:3000</code>, ìŠ¹ì¸ëœ ë¦¬ë””ë ‰ì…˜ URI= <code class=\"language-text\">http://localhost:3000/api/auth/callback/google</code></li>\n<li>ë°°í¬: url= <code class=\"language-text\">http://moejob.shop</code>, ìŠ¹ì¸ëœ ë¦¬ë””ë ‰ì…˜ URI= <code class=\"language-text\">http://moejob.shop/api/auth/callback/google</code></li>\n</ul>\n<h4>Github</h4>\n<p>Githubì€ Github ë³¸ì¸ê³„ì •ì˜ settings-ì™¼ìª½ ë©”ë‰´ ê°€ì¥í•˜ë‹¨ì˜ developer settings-OAuth Appsë¥¼ ì´ìš©í•´ ì¶”ê°€í•˜ë©´ ëœë‹¤. ì´ë•Œë„ urlì£¼ì†Œë¥¼ ì£¼ì˜í•´ì„œ ì ì–´ì•¼í–ˆë‹¤. íŠ¹íˆ Githubì€ í•œë²ˆ ì¸ì¦ëœ ê³„ì •ì˜ urlì„ ë°”ê¾¸ì–´ë„ ì˜ ì ìš©ì´ ì•ˆë˜ ìƒˆë¡­ê²Œ ë°°í¬ìš© ê³„ì •ì„ ë§Œë“¤ì–´ì„œ ì¸ì¦í–ˆë‹¤.</p>\n<ul>\n<li>ê°œë°œ: Homepage URL=<code class=\"language-text\">http://localhost:3000</code>, Authorization callback URL= <code class=\"language-text\">http://localhost:3000/api/auth/callback/github</code></li>\n<li>ë°°í¬: Homepage URL=<code class=\"language-text\">http://moejob.shop</code>, Authorization callback URL= <code class=\"language-text\">http://moejob.shop/api/auth/callback/github</code></li>\n</ul>\n<h3>Email</h3>\n<p>ì´ë©”ì¼ì„ ì—°ê²°í•˜ëŠ” ë¶€ë¶„ì´ ê°€ì¥ í˜ë“¤ì—ˆë˜ ë¶€ë¶„ì¤‘ í•˜ë‚˜ë‹¤. Next-authì™€ ê²€ìƒ‰ì˜ ëŒ€ë¶€ë¶„ì€ <code class=\"language-text\">sendGrid</code>ì˜ SMTPë¥¼ ì´ìš©í•´ ì´ë©”ì¼ì„ ë³´ë‚¼ ìˆ˜ ìˆê²Œ ì†Œê°œí–ˆì§€ë§Œ, ê°€ì…ì„ í•´ë„ ê³„ì •ì´ pendingìƒíƒœë¡œ ë‚¨ì•„ìˆì–´ì„œ <code class=\"language-text\">Gmail</code>ì„ ì´ìš©í•œ ë°©ë²•ìœ¼ë¡œ ë°”ê¾¸ì—ˆë‹¤.</p>\n<p>ìš°ì„  next-authìì²´ì— <code class=\"language-text\">nodemailer</code>ê°€ ì—†ê¸° ë•Œë¬¸ì— nodemailerë¥¼ ì„¤ì¹˜í•œ í›„ì— ì—°ê²°í•´ì£¼ì—ˆë‹¤. Gmailí˜ì´ì§€ì—ì„œ ì„¤ì •ì— ë“¤ì–´ê°€ IMAPì„ ì‚¬ìš©ìœ¼ë¡œ ìˆ˜ì •í•˜ê³ , googleê³„ì •ì˜ ì•±ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¶”ê°€í•´ í™˜ê²½ë³€ìˆ˜ë¡œ ì „ë‹¬í–ˆë‹¤.</p>\n<ul>\n<li><code class=\"language-text\">EMAIL_SERVER =smtp://&lt;email>:&lt;app password>@smtp.gmail.com:587</code></li>\n<li><code class=\"language-text\">EMAIL_FROM=moejob@gmail.com</code></li>\n</ul>\n<p>ì´ë ‡ê²Œ ì„¤ì •ë§Œ í•˜ë©´ ê¸°ë³¸ ì´ë©”ì¼ í¬ë§·ìœ¼ë¡œ ë‚˜ì˜¤ê¸° ë•Œë¬¸ì— ì¶”ê°€ì ì¸ í¬ë§·ì„ ìœ„í•´ EmailProvider optionìœ¼ë¡œ sendVerificationRequestë¡œ í•„ìš”í•œ ë‚´ìš©ë“¤ì„ ì „ë‹¬ í•  ìˆ˜ ìˆë‹¤.</p>\n<h3>_app.tsx</h3>\n<p>ê°ê°ì˜ Providerë¥¼ ì—°ê²°í•œ í›„ì— ì»´í¬ë„ŒíŠ¸ì— ì ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” next-authê°€ ì œê³µí•˜ëŠ” <code class=\"language-text\">SessionProvider</code>ì„ ê°ì‹¸ì£¼ë©´ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ <code class=\"language-text\">useSession</code> hookì„ ì´ìš©í•´ sessionì •ë³´ë¥¼ ì „ì—­ ìƒíƒœë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë•ë¶„ì— ê¸°ì¡´ì— CSRì—ì„œ ì‚¬ìš©í•˜ê³  ìˆë˜ AuthServiceë¥¼ ì´ìš©í•´ userë¥¼ ë”°ë¡œ ê´€ë¦¬í•˜ì§€ ì•Šì•„ë„ ë˜ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">MyApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> pageProps <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> AppProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> dbService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DBServiceImpl</span><span class=\"token punctuation\">(</span>firebaseApp<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">QueryClientProvider</span></span> <span class=\"token attr-name\">client</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>queryClient<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DBProvider</span></span> <span class=\"token attr-name\">dbService</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>dbService<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SessionProvider</span></span> <span class=\"token attr-name\">basePath</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NEXTAUTH_URL</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            ...\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">SessionProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">DBProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">QueryClientProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Proteceted Route</h3>\n<p>getServerSidePropsë¡œ sessionì„ ë°›ì•„ì™€ ë¡œê·¸ì¸ ëœ ì‚¬ìš©ìì¸ì§€ ë¨¼ì € ì²´í¬í•´ ì£¼ëŠ” ë°©ì‹ì„ í†µí•´ í˜„ì¬ ë¡œê·¸ì¸ëœ ìœ ì €ì¸ì§€ ë¨¼ì € í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤. ë¨¼ì € ì„œë²„ì—ì„œ ì‚¬ìš©ìì •ë³´ë¥¼ ì´ìš©í•´ ë¦¬ë‹¤ì´ë ‰ì…˜ ì‹œí‚¤ê¸° ë•Œë¬¸ì— í˜ì´ì§€ë¥¼ ëœë”ë§ì„ í•˜ì§€ ì•Šê³ , ë¦¬ë‹¤ì´ë ‰ì…˜ì´ ê°€ëŠ¥í•˜ê²Œ ë˜ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  session<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> InferGetServerSidePropsType<span class=\"token operator\">&lt;</span><span class=\"token keyword\">typeof</span> getServerSideProps<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MainLayout</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">JobSection</span></span> <span class=\"token attr-name\">session</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>session<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">MainLayout</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getServerSideProps</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>context<span class=\"token operator\">:</span> NextPageContext<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> session <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>session<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      redirect<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        destination<span class=\"token operator\">:</span> <span class=\"token string\">\"/login\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> session <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Custom Login</h3>\n<p>Next authë¥¼ ì´ìš©í•˜ê²Œ ë˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•´ ì£¼ëŠ” login í˜ì´ì§€ê°€ ìˆì§€ë§Œ ì´ë¯¸ ë§Œë“¤ì–´ë‘” í˜ì´ì§€ê°€ ìˆì—ˆê¸° ë•Œë¬¸ì— custom í˜ì´ì§€ì™€ ì—°ê²°í–ˆë‹¤. custom í˜ì´ì§€ì—ì„œ providerë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì„œë²„ë¡œ í•´ë‹¹ providerì •ë³´ë¥¼ ì „ë‹¬í•´ ì£¼ì–´ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Login</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  providers<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> InferGetServerSidePropsType<span class=\"token operator\">&lt;</span><span class=\"token keyword\">typeof</span> getServerSideProps<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SEO</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ë¡œê·¸ì¸<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AuthLayout</span></span> <span class=\"token attr-name\">providers</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>providers<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">;\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Login\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getServerSideProps</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> req <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> NextPageContext<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> session <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> req <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>session<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      redirect<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        destination<span class=\"token operator\">:</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      providers<span class=\"token operator\">:</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getProviders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>ğŸ‘“ì„±ëŠ¥ ë¹„êµ</h2>\n<p>í¬ë¡¬ì˜ ê°œë°œìë„êµ¬ë¥¼ ì´ìš©í•´ ì™„ë£Œ (í˜ì´ì§€ë¥¼ ëª¨ë‘ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ê¹Œì§€ ê±¸ë¦¬ëŠ” ì‹œê°„)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ CSRì„ ì´ìš©í•´ ì¸ì¦ì„ í–ˆì„ë•Œ ì‹œê°„ê³¼ SSRì„ ì´ìš©í•´ ì¸ì¦ì„ í–ˆì„ ë•Œ ì‹œê°„ì„ ë¹„êµí•´ë³´ì•˜ë‹¤.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/b96f3b1e1fe044a9a962962ee31c7865/1235c/%ED%8E%98%EC%9D%B4%EC%A7%80%EC%84%B1%EB%8A%A5%EC%B8%A1%EC%A0%95.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 38.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAABl0lEQVR42kVRSY7cMAz0T5JBkFvOeWMu85r+xyBAkMtc2mnY1r55kenusSqU0EgEEBaLpWKR7i6Xyzfv86efvXgRInCIZ/QvIYSG/Xp///Lj9fX777e3r1cRPvdPTt+L/3zm1rzTUkHZmAcVaBKShkmQtq6FC5GMjyS0I6XNYaQiYRON0tDIvIlz43zj2pBIu0hdpgNCqjOmBOMCrA/cwEEZBxZseZpn1CO0gVSa8fCvJpVpdx8j0rKgy8cH/kj7Eda9EFHZOVJMJaW5bDmXfd85qDwejzIzZ2+co3Ez15Z1fWJU1m0r3Xk+2Jk7Q0yY56W52bbM9xmWsSUTjuNAOQticOBGXN8QG38GC8I5D2LOlnd0jzuhv15PYwyTIqSUGMcJNedGmJetidSjjYbWmrEFnsdWSjUxxWvgCZBzRkd0xzCMZ+Id1of1QRWsXx4daVtxnQagFBhdBU1z5r3H7XZrPMEmMrurWEesPIzTaazlcRdEFq2uDP+YwEvPO8Ezdr/fYdkNN4etNZ5GG8s8dip5Osasc/gLSN9KsVQZ4NAAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='ì„±ëŠ¥ë¹„êµ' title='' src='/static/b96f3b1e1fe044a9a962962ee31c7865/ca1dc/%ED%8E%98%EC%9D%B4%EC%A7%80%EC%84%B1%EB%8A%A5%EC%B8%A1%EC%A0%95.png' srcset='/static/b96f3b1e1fe044a9a962962ee31c7865/e7570/%ED%8E%98%EC%9D%B4%EC%A7%80%EC%84%B1%EB%8A%A5%EC%B8%A1%EC%A0%95.png 170w,\n/static/b96f3b1e1fe044a9a962962ee31c7865/f46e7/%ED%8E%98%EC%9D%B4%EC%A7%80%EC%84%B1%EB%8A%A5%EC%B8%A1%EC%A0%95.png 340w,\n/static/b96f3b1e1fe044a9a962962ee31c7865/ca1dc/%ED%8E%98%EC%9D%B4%EC%A7%80%EC%84%B1%EB%8A%A5%EC%B8%A1%EC%A0%95.png 680w,\n/static/b96f3b1e1fe044a9a962962ee31c7865/02d09/%ED%8E%98%EC%9D%B4%EC%A7%80%EC%84%B1%EB%8A%A5%EC%B8%A1%EC%A0%95.png 1020w,\n/static/b96f3b1e1fe044a9a962962ee31c7865/9d567/%ED%8E%98%EC%9D%B4%EC%A7%80%EC%84%B1%EB%8A%A5%EC%B8%A1%EC%A0%95.png 1360w,\n/static/b96f3b1e1fe044a9a962962ee31c7865/1235c/%ED%8E%98%EC%9D%B4%EC%A7%80%EC%84%B1%EB%8A%A5%EC%B8%A1%EC%A0%95.png 1506w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>ì„±ëŠ¥ë¹„êµ</figcaption>\n  </figure></p>\n<p>ìœ„ ì‚¬ì§„ê³¼ ê°™ì´ CSRì€ ì´ 1.52s, SSRì€ 955msë¡œ SSRì´ CSRì— ë¹„í•´ 38%ì •ë„ ë¡œë”©ì†ë„ë¥¼ ê°œì„ ëœê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.</p>\n<h2>ë§ˆì¹˜ë©°</h2>\n<p>ì´ë ‡ê²Œ ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì„ ì´ìš©í•´ì„œ ì¸ì¦ì„ ì ìš©í•˜ë©´ì„œ ì „ì²´ì ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ê°„ë‹¨í•´ì¡Œê³ , <strong>ë¹ˆí˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ì§€ ì•Šê³  í˜ì´ì§€ ì´ë™</strong>ì´ ì´ë£¨ì–´ì ¸ ì„±ëŠ¥ ê°œì„ ë„ ì´ë£¨ì–´ì§„ ì ì´ ë„ˆë¬´ ì¢‹ì•˜ë‹¤. ì´í›„ì—ëŠ” í˜ì´ì§€ë§ˆë‹¤ ê¶Œí•œì„ ì •í•˜ê³  í˜ì´ì§€ ê°œì„ ì„ í•œ í›„ì— SEOì™€ HTTPSë¥¼ ì ìš©í•˜ëŠ” ì‘ì—…ì„ í•  ì˜ˆì •ì´ë‹¤.</p>\n<br/>\n<p>[ì°¸ì¡°]</p>\n<ul>\n<li><a href=\"https://www.inflearn.com/course/%EB%AA%A8%EC%9D%98%ED%95%B4%ED%82%B9-xss-%EA%B3%B5%EA%B2%A9%EA%B8%B0%EB%B2%95?inst=29e33bf1\">ëª¨ì˜í•´í‚¹ ì‹¤ë¬´ìê°€ ì•Œë ¤ì£¼ëŠ”, XSS ê³µê²© ê¸°ë²•</a></li>\n<li><a href=\"https://doctorson0309.tistory.com/605\">CSRFë¥¼ 1ë¶„ ë§Œì— í•´ê²°í•˜ëŠ” ë°©ë²•</a></li>\n</ul>","frontmatter":{"title":"ëª¨ìœ¼ì¡-SSRì„ ì´ìš©í•œ ì¸ì¦,ì¸ê°€ ë„ì…","date":"December 17, 2022","tags":["ì‚¬ì´ë“œí”„ë¡œì íŠ¸","ëª¨ìœ¼ì¡"],"series":"ëª¨ìœ¼ì¡"},"fields":{"slug":"/2022-12-17-ëª¨ìœ¼ì¡-ì¸ì¦ì¸ê°€/","readingTime":{"minutes":25.205}}},"seriesList":{"edges":[{"node":{"id":"fbb4533a-723e-5252-ac98-c880bd9e222f","fields":{"slug":"/2022-09-22-ì±„ìš©ê³µê³ -ì •ë¦¬ì‚¬ì´íŠ¸-ê¸°íš/"},"frontmatter":{"title":"ì±„ìš©ê³µê³  ì •ë¦¬ ì„œë¹„ìŠ¤ ê¸°íš"}}},{"node":{"id":"efb31bb7-b230-5b3a-bf03-af7bc949639c","fields":{"slug":"/2022-10-15-ëª¨ìœ¼ì¡-ê¸°íš-êµ¬ì²´í™”/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-ê¸°íš êµ¬ì²´í™”"}}},{"node":{"id":"9c730376-b192-5125-bffc-4eeda18b7d68","fields":{"slug":"/2022-10-16-íŒŒì´ì¬ì„-ì´ìš©í•œ-í¬ë¡¤ëŸ¬ì œì‘/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-íŒŒì´ì¬ì„ ì´ìš©í•œ ì›¹í¬ë¡¤ëŸ¬ ì œì‘"}}},{"node":{"id":"ee625e14-0c1c-52cc-97b4-7507fff98c99","fields":{"slug":"/2022-10-17-flask-ì„œë²„ë§Œë“¤ê¸°/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-flaskì´ìš©í•´ SSRì„œë²„ë§Œë“¤ê¸°"}}},{"node":{"id":"72b694be-e580-5664-a455-ea458cd8ff2b","fields":{"slug":"/2022-10-20-ëª¨ìœ¼ì¡-cors-ì—ëŸ¬í•¸ë“¤ë§/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-express cors ì—ëŸ¬, ì—ëŸ¬í•¸ë“¤ë§"}}},{"node":{"id":"10d9caf7-56a9-5377-a0bb-d16a96bc0bbf","fields":{"slug":"/2022-10-22-ëª¨ìœ¼ì¡-express-ì„œë²„-ì œì‘-ì‹œì‘-cheerio/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-express ì„œë²„ ì œì‘ ì‹œì‘ê³¼ cheerio"}}},{"node":{"id":"0318dcb1-92cd-5b90-92f7-6ac08d34934f","fields":{"slug":"/2022-10-23-ëª¨ìœ¼ì¡-puppeteer-í¬ë¡¤ëŸ¬ì œì‘-í”„ë¡ íŠ¸í˜ì´ì§€-êµ¬ìƒ/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-puppeteerì„ ì´ìš©í•œ í¬ë¡¤ëŸ¬ì œì‘, í”„ë¡ íŠ¸í˜ì´ì§€ êµ¬ìƒ"}}},{"node":{"id":"ee78ba91-55fe-52e4-b52e-3fd75064102b","fields":{"slug":"/2022-10-24-ëª¨ìœ¼ì¡-í”„ë¡ íŠ¸í˜ì´ì§€-UIì œì‘/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-í”„ë¡ íŠ¸í˜ì´ì§€ UIì œì‘"}}},{"node":{"id":"4d8fbbcf-f6bd-532c-9616-d545a976bdc8","fields":{"slug":"/2022-10-25-ëª¨ìœ¼ì¡-UI-ìˆ˜ì •-í¬ë¡¤ë§-ë°ì´í„°-ì—°ê²°/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-í”„ë¡ íŠ¸í˜ì´ì§€ UIìˆ˜ì •, í¬ë¡¤ë§í•œ ë°ì´í„° ë°›ì•„ì˜¤ê¸°"}}},{"node":{"id":"2ae6ec5c-3c76-51df-9c62-42377b522f58","fields":{"slug":"/2022-11-23-ëª¨ìœ¼ì¡-Next-migration/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-Next jsë¡œ migration, ë””ìì¸ ìˆ˜ì •"}}},{"node":{"id":"f98d7300-5ba4-5582-81c9-563366499628","fields":{"slug":"/2022-11-25-ëª¨ìœ¼ì¡-íšŒì›ê°€ì…ë¡œê·¸ì¸-ë¡œì§/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-firebaseë¥¼ ì´ìš©í•œ íšŒì›ê°€ì… ë¡œì§ êµ¬í˜„"}}},{"node":{"id":"da8d5d14-2fc0-53f4-8a30-1b558488aa2c","fields":{"slug":"/2022-11-29-ëª¨ìœ¼ì¡ DBì—°ê²°ê³¼-í¬ë¡¤ë§-ê¸°ëŠ¥-ì—°ê²°/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-DBì—°ê²°ê³¼ í¬ë¡¤ë§ ê¸°ëŠ¥ ì—°ê²°"}}},{"node":{"id":"ce15da4f-20cc-557c-a65e-d3a9fc40a2d5","fields":{"slug":"/2022-11-30-ëª¨ìœ¼ì¡-ë°°í¬/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-vercelë¶€í„° awsê¹Œì§€ ë°°í¬ê³¼ì •"}}},{"node":{"id":"bc74e94c-1d4a-5507-a390-a54e07d094e6","fields":{"slug":"/2022-12-17-ëª¨ìœ¼ì¡-ì¸ì¦ì¸ê°€/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-SSRì„ ì´ìš©í•œ ì¸ì¦,ì¸ê°€ ë„ì…"}}},{"node":{"id":"7dbb331a-341a-5763-acac-83425a2e9707","fields":{"slug":"/2022-12-23-ëª¨ìœ¼ì¡-ê¸°íš-ë””ìì¸ ìˆ˜ì •/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-ê¸°íš, ë””ìì¸ ìˆ˜ì •"}}},{"node":{"id":"204104d7-e0cf-5dff-9c31-15b046d4e428","fields":{"slug":"/2022-12-25-ëª¨ìœ¼ì¡-ì„œë²„ì‚¬ì´ë“œ-ëœë”ë§ì„-ì´ìš©í•œ-ì„±ëŠ¥ê°œì„ /"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-ì„œë²„ì‚¬ì´ë“œ ëœë”ë§ì„ ì´ìš©í•œ ì„±ëŠ¥ ê°œì„ "}}}]},"previous":{"fields":{"slug":"/2022-12-30-ì´ë²¤íŠ¸/"},"frontmatter":{"title":"ì´ë²¤íŠ¸"}},"next":{"fields":{"slug":"/2022-12-23-ëª¨ìœ¼ì¡-ê¸°íš-ë””ìì¸ ìˆ˜ì •/"},"frontmatter":{"title":"ëª¨ìœ¼ì¡-ê¸°íš, ë””ìì¸ ìˆ˜ì •"}}},"pageContext":{"id":"bc74e94c-1d4a-5507-a390-a54e07d094e6","series":"ëª¨ìœ¼ì¡","previousPostId":"5d40ad58-a897-564b-9a54-5c4a65ca9c0c","nextPostId":"7dbb331a-341a-5763-acac-83425a2e9707"}},"staticQueryHashes":[],"slicesMap":{}}