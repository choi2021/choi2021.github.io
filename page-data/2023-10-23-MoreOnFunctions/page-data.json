{"componentChunkName":"component---src-templates-post-jsx","path":"/2023-10-23-MoreOnFunctions/","result":{"data":{"site":{"siteMetadata":{"title":"Troy DevLog"}},"markdownRemark":{"id":"4891d21f-441e-5651-a65d-a38aea282bfc","excerpt":"More On Functions😃 타입스크립트에서 함수를 다루는 법을 알아보자 Function Type Expressions 타입스크립트에서 fuction을 표현할 때 기본적으로 parameter와 return 값에 대해 타입으로 표현한다. Parameter type의 경우 타입을 정해주지 않으면 any로 정해진다. Call Signatures 자바스크립…","html":"<h2>More On Functions😃</h2>\n<p>타입스크립트에서 함수를 다루는 법을 알아보자</p>\n<h3>Function Type Expressions</h3>\n<p>타입스크립트에서 fuction을 표현할 때 기본적으로 <strong>parameter</strong>와 <strong>return</strong> 값에 대해 타입으로 표현한다. Parameter type의 경우 타입을 정해주지 않으면 any로 정해진다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">greeter</span><span class=\"token punctuation\">(</span><span class=\"token function-variable function\">fn</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, World\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">printToConsole</span><span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">greeter</span><span class=\"token punctuation\">(</span>printToConsole<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Call Signatures</h3>\n<p>자바스크립트에서 함수는 <strong>객체</strong>다. 이점이 중요한 점은 함수가 속성을 가질 수 있다는 의미이기 때문인데, <strong>function type annotation</strong>에서는 속성을 할당하지 못하게 한다. 속성을 할당하고 싶다면 해당 속성에 대한 call signature를 할당해야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">DescribableFunction</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  description<span class=\"token operator\">:</span> <span class=\"token function\">string</span>\n  <span class=\"token punctuation\">(</span>someArg<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span>fn<span class=\"token operator\">:</span> DescribableFunction<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">.</span>description <span class=\"token operator\">+</span> <span class=\"token string\">\" returned \"</span> <span class=\"token operator\">+</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">myFunc</span><span class=\"token punctuation\">(</span>someArg<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> someArg <span class=\"token operator\">></span> <span class=\"token number\">3</span>\n<span class=\"token punctuation\">}</span>\nmyFunc<span class=\"token punctuation\">.</span>description <span class=\"token operator\">=</span> <span class=\"token string\">\"default description\"</span>\n\n<span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span>myFunc<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Construct Signatures</h3>\n<p>자바스크립트에서 함수 선언문으로 정의된 함수는 모두 <strong>생성자 함수</strong>로 쓰일 수 있기 때문에 new 키워드가 사용될 수 있다.<code class=\"language-text\">new</code>키워드를 이용한 타입 정의를 통해 construct signature를 정의할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">SomeConstructor</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">new</span> <span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> SomeObject\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>ctor<span class=\"token operator\">:</span> SomeConstructor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ctor</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Generic Functions</h3>\n<p>보통 param의 타입과 반환값의 타입은 관련이 있거나 param들간의 타입이 관계가 있다. any를 사용하지 않고 우리가 원하는 타입으로 좁혀서 재사용하는 방법으로 <strong>generic</strong>을 이용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">firstElement</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Type<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> Type<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Type <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// s is of type 'string'</span>\n<span class=\"token keyword\">const</span> s <span class=\"token operator\">=</span> <span class=\"token function\">firstElement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"b\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"c\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// n is of type 'number'</span>\n<span class=\"token keyword\">const</span> n <span class=\"token operator\">=</span> <span class=\"token function\">firstElement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// u is of type undefined</span>\n<span class=\"token keyword\">const</span> u <span class=\"token operator\">=</span> <span class=\"token function\">firstElement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h4>inference</h4>\n<p>inference는 타입을 직접 정하는 것은 아니지만 typescript를 통해 <strong>추론</strong>되는 타입을 의미한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">map</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Input<span class=\"token punctuation\">,</span> Output<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  arr<span class=\"token operator\">:</span> Input<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">func</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>arg<span class=\"token operator\">:</span> Input<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Output\n<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Output<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> parsed <span class=\"token operator\">=</span> <span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"3\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> n <span class=\"token operator\">=></span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// parsedsms number[]이야</span></code></pre></div>\n<h4>Constraints와 오류</h4>\n<p>generic을 이용해서 연관있는 input 타입들의 관계를 정의했지만 어느정도 우리가 원하는 타입으로 좁힐 수 있다. 좁힐 때는 <strong>extends</strong>를 통해 해당 속성을 가지고 있는 타입 등으로 좁힐 수 있다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/321727538873a0a460b3c8c86c82fd1d/010a2/constraint1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 41.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDklEQVR42pWS2XKEIBBF/f+fTMZlFBHUQQUUPOmxkpfkxVB1qhv61mVpisXBoA5UN6IHTW8cdR1wLrIswiqEgPee1Qc2HyVGfIxwnvweRdwTSxmw7cqeEseRhSTav+I7o/BhJ68nu0/kM/8RnBf3zYsQdxLCeZDywZHfUVZSvOb/PqGddx665zFq2nnEvjTK1NTjE+2MvN/G4jdyyvcMh2mnMpYPqyknMVxGOlNibMc0aWlUg5XN8s1rF3oINMNMaQdaXdH1NU/ToMRwXixunbFuIOxeTinvnMVauPIfZH51XCjGzwpTPVmUxrUttqpwSn3TY+uaTQ+83jXJ174XrWKTODUNr667asc4In+NL1Jebx/8nQdDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='constraint' title='' src='/static/321727538873a0a460b3c8c86c82fd1d/ca1dc/constraint1.png' srcset='/static/321727538873a0a460b3c8c86c82fd1d/e7570/constraint1.png 170w,\n/static/321727538873a0a460b3c8c86c82fd1d/f46e7/constraint1.png 340w,\n/static/321727538873a0a460b3c8c86c82fd1d/ca1dc/constraint1.png 680w,\n/static/321727538873a0a460b3c8c86c82fd1d/02d09/constraint1.png 1020w,\n/static/321727538873a0a460b3c8c86c82fd1d/9d567/constraint1.png 1360w,\n/static/321727538873a0a460b3c8c86c82fd1d/010a2/constraint1.png 1716w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>constraint</figcaption>\n  </figure></p>\n<p>이런 Generic을 이용한 타입 좁히기는 유용할 수 있지만 조심해야할 부분이 있다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/5c8789c25122efc745e80fc9097870d2/3553b/constraint2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVR42p1Q7XKDIBD0/V+v05iqxJgP0RDUCAoIukGaTvojnXZ6MzscN7cLuxHnFqdyBG85pOyglMRoDPoeGAYHITXkaCCUhvHz3ypqGglyZOCdRD8oWDtD6wnzPOM/FTntcKMjairQCwWlbTidcz+SlgdeClrjYKjDILQXMt7mhFuv/U/tJ3l5Utf++/2lYFsUuGQEx/cN9m8bnOIPXHcFznGM83YbUGcZqiRBlabgeY6BUsiyhKprjFUVIP3McY6oOxxAk9STUlz98gq+z0HTJIiFB0kGRgjW3VWc7YifkSBoGAvQ7IK5bRBN0/TnwFe3X46XR5AhguUZxx2Xzh1q2qzBdgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='constraint' title='' src='/static/5c8789c25122efc745e80fc9097870d2/ca1dc/constraint2.png' srcset='/static/5c8789c25122efc745e80fc9097870d2/e7570/constraint2.png 170w,\n/static/5c8789c25122efc745e80fc9097870d2/f46e7/constraint2.png 340w,\n/static/5c8789c25122efc745e80fc9097870d2/ca1dc/constraint2.png 680w,\n/static/5c8789c25122efc745e80fc9097870d2/02d09/constraint2.png 1020w,\n/static/5c8789c25122efc745e80fc9097870d2/9d567/constraint2.png 1360w,\n/static/5c8789c25122efc745e80fc9097870d2/3553b/constraint2.png 1732w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>constraint</figcaption>\n  </figure></p>\n<p>위 코드에서 에러가 난 이유는 우리 Generic으로 전달한 인자의 타입이 반환값으로 그대로 반환될 것라고 선언했다. 하지만 else문 안에는 좁혀진 범위의 객체를 반환하기 때문에 기존과 다른 타입이기 때문에 타입에러가 났다. 타입스크립트에서 큰 집합은 작은 집합에 할당될 수 있지만, 그렇다고 큰집합이 작은 집합이라고 할 수는 없다.</p>\n<p><code class=\"language-text\">사자는 동물에 포함된다</code> 라는말은 사자가 동물에 포함되기 때문에 맞지만, <code class=\"language-text\">사자와 동물은 같다</code>라는 말에는 오류가 있는 것과 같다.</p>\n<h4>Guidelines for Writing Good Generic Functions</h4>\n<p>Generic 함수를 잘 작성하는 방법 3가지를 정리해보자.</p>\n<ul>\n<li>Push Type Param Down: param을 더 구체적인 값으로 사용한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">firstElement1</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Type<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> Type<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">firstElement2</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Type <span class=\"token keyword\">extends</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> Type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// a: number (good)</span>\n<span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token function\">firstElement1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// b: any (bad)</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token function\">firstElement2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>Use Fewer Type Parameters: 더 적은 타입의 param으로 이용한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">filter1</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Type<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> Type<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token function-variable function\">func</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>arg<span class=\"token operator\">:</span> Type<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Type<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> filter2<span class=\"token operator\">&lt;</span>Type<span class=\"token punctuation\">,</span> Func <span class=\"token keyword\">extends</span> <span class=\"token punctuation\">(</span>arg<span class=\"token operator\">:</span> Type<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">boolean</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>\n  arr<span class=\"token operator\">:</span> Type<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  func<span class=\"token operator\">:</span> Func\n<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Type<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>filter2의 경우는 어떤 함수 타입인지 일일이 정해줘야하므로 사용처에서 불편함이 존재한다.</p>\n<ul>\n<li>Type Parameters Should Appear Twice: 재사용이 필요한 상황에만 제네릭을 쓰자.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">greet</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Str <span class=\"token keyword\">extends</span> <span class=\"token builtin\">string</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> Str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, \"</span> <span class=\"token operator\">+</span> s<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">greet</span><span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, \"</span> <span class=\"token operator\">+</span> s<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>훨씬 간단하게 사용할 수있는 방법을 고민해보고, 반복되는 타입에 한해서 재사용을 위해 제네릭을 쓰자.</p>\n<h3>Optional Parameters</h3>\n<p>param이 없을 수 있는 경우를 위해 <code class=\"language-text\">?</code>를 이용할 수 있다. 이렇게 사용하게 되면 <code class=\"language-text\">T|undefined</code> 로 타입이 할당된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// OK</span>\n<span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// OK</span></code></pre></div>\n<p>또는 param이 없을 때를 위한 기본 값을 parameter default로 정의할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>주의할 점은 callback을 이용할 때의 의미는 optional한 parameter는 필요없이 호출 될 수 있음을 의미하는 것이니까 불필요하게 사용하지 말자.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/b2de997311fa9f85ba2ee96bba3b4ba1/b4f5d/callback.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 15.294117647058824%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAUklEQVR42p3FUQqAIBAAUe9/xECikoLwJ13XjYwp6gQ18BinKqS0kSUjpkiRm2HW+JPLayT4kaX3xGlg9h0xBE4poPqZqynTzGi1Pj/0Pfv+ywUIbeo+tddP/AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='callback' title='' src='/static/b2de997311fa9f85ba2ee96bba3b4ba1/ca1dc/callback.png' srcset='/static/b2de997311fa9f85ba2ee96bba3b4ba1/e7570/callback.png 170w,\n/static/b2de997311fa9f85ba2ee96bba3b4ba1/f46e7/callback.png 340w,\n/static/b2de997311fa9f85ba2ee96bba3b4ba1/ca1dc/callback.png 680w,\n/static/b2de997311fa9f85ba2ee96bba3b4ba1/02d09/callback.png 1020w,\n/static/b2de997311fa9f85ba2ee96bba3b4ba1/9d567/callback.png 1360w,\n/static/b2de997311fa9f85ba2ee96bba3b4ba1/b4f5d/callback.png 1748w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>callback</figcaption>\n  </figure></p>\n<h3>Function Overloads</h3>\n<p>함수 오버로드는 평소에 잘 사용하지 않던 부분이다 보니 이해하는데 어려움이 있었다. <strong>함수 Overload</strong>는 같은 이름의 함수에 param이 다르게 정의하는 방법이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">makeDate</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Date\n<span class=\"token keyword\">function</span> <span class=\"token function\">makeDate</span><span class=\"token punctuation\">(</span>m<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> d<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Date\n<span class=\"token keyword\">function</span> <span class=\"token function\">makeDate</span><span class=\"token punctuation\">(</span>mOrTimestamp<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> d<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Date <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span> <span class=\"token operator\">&amp;&amp;</span> y <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> mOrTimestamp<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>mOrTimestamp<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> d1 <span class=\"token operator\">=</span> <span class=\"token function\">makeDate</span><span class=\"token punctuation\">(</span><span class=\"token number\">12345678</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> d2 <span class=\"token operator\">=</span> <span class=\"token function\">makeDate</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Overload 함수를 작성하는데에는 몇가지 규칙이 있다.</p>\n<ul>\n<li>인자가 없을 때의 어떤 함수인지 구현이 필요하다.</li>\n</ul>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/a7072ee27c0ea67fa9773ec72a789ade/a7dde/overload1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 24.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmElEQVR42o2QyQ6DMBBD+f//pJRCSJhM1lJeQ7n00sUjyyNL9sFd38Mye4wxuBARDUjTUisH9rf7B52TOzkVSs7sLbP/l/tcaNKEzZZQA2te8cWj7T9UijRPcM2f4kzZ6u/CeRzIKqizjQvJr0Q5uaXIPYWX1qQ8coJSvrJzw0CcDba/sLRB9TYh1yt+HNlVIQRou56qP/kEXleG+L9JfzMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='overload1' title='' src='/static/a7072ee27c0ea67fa9773ec72a789ade/ca1dc/overload1.png' srcset='/static/a7072ee27c0ea67fa9773ec72a789ade/e7570/overload1.png 170w,\n/static/a7072ee27c0ea67fa9773ec72a789ade/f46e7/overload1.png 340w,\n/static/a7072ee27c0ea67fa9773ec72a789ade/ca1dc/overload1.png 680w,\n/static/a7072ee27c0ea67fa9773ec72a789ade/02d09/overload1.png 1020w,\n/static/a7072ee27c0ea67fa9773ec72a789ade/9d567/overload1.png 1360w,\n/static/a7072ee27c0ea67fa9773ec72a789ade/a7dde/overload1.png 1564w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>overload1</figcaption>\n  </figure></p>\n<p>위 예제에서 에러가 발생한 이유는 param이 없을 때의 함수가 <strong>어떻게 구현될지</strong> 정의되지 않았기 때문이다.</p>\n<p>아래와 고치면 타입에러가 사라지는 것을 볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Expected to be able to call with zero arguments</span>\n<span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>Overload 끼리 compatible해야한다.</li>\n</ul>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/c0ee3146081b0eff8986219e6b6cbc41/6ffd1/overload2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 19.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoElEQVR42p2QwQ6CMBBE+f9P9AQlFChtKS0gFsNzQb0bJzuZ2Zc9bWFcZoyJOEdsjPgUCdKnZYFD5jh+8lfFTQXKrqHzHfVoaP2Aci0uTfyjIjQ9vlL4usZWNU4ydj2Tbi82lCVBN7Jr5r7HKYURZqtKuL7uT7aHAClRmHYjDIHJe8xgsc5fPd/v5HXlId6ln35u25vJO/KHn3n6yBn2nRethDQ9FX4/+wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='overload2' title='' src='/static/c0ee3146081b0eff8986219e6b6cbc41/ca1dc/overload2.png' srcset='/static/c0ee3146081b0eff8986219e6b6cbc41/e7570/overload2.png 170w,\n/static/c0ee3146081b0eff8986219e6b6cbc41/f46e7/overload2.png 340w,\n/static/c0ee3146081b0eff8986219e6b6cbc41/ca1dc/overload2.png 680w,\n/static/c0ee3146081b0eff8986219e6b6cbc41/02d09/overload2.png 1020w,\n/static/c0ee3146081b0eff8986219e6b6cbc41/9d567/overload2.png 1360w,\n/static/c0ee3146081b0eff8986219e6b6cbc41/6ffd1/overload2.png 1500w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>overload2</figcaption>\n  </figure></p>\n<p>위 예제에서 같은 param 갯수를 가지는 overload 함수를 작성했다. 타입에러가 발생한 이유는 먼저 작성한 overload 함수 param 타입이 <code class=\"language-text\">boolean</code>으로 정의된 상황에서 같은 param 갯수를 가지는 두번째 overload 함수에서 boolean타입과 compatible 하지 않은 string 타입으로 정의했기 때문이다.</p>\n<ul>\n<li>Overload 함수는 조건부로 쓰이면 안된다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x<span class=\"token punctuation\">.</span>length\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 예제는 string과 array를 param으로 받을 수 있는 함수 overload가 정의된 상황이다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/ea547f0afb7187c680243579315aecbb/dd200/overload3.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 28.235294117647058%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBElEQVR42oWP527DMAyE/f5Pl50603splR3P1LV1PSoJ+qdACRxISaePpFNqDd2X6MYOErOZYYz5FZ5hXvovnKRQ0DpDqQu0Q4+uazFWFcbHAw3reZpIMk+9433+Q06w2SDebpG5LtTphNT9gDoe0UQRSs9DnySow8Cq8n2rlm/fSmG+3TAxT6+akxG4WkGgEaH54WBzvNshWK+tpFGy38NbLiFefbmgYMOa4CFN0YQh+ji22QLFGPJjQpAiUKaNpAHvvMUCuQDZQDw+vTJ9QZ8AvggU2MAtpLbA/HyG6JPr3a5X5Fy74BQZs5w1J1E8i6flpyHPURMg9cg1+yyzd1LjfscPEn/CszwoCVkAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='overload3' title='' src='/static/ea547f0afb7187c680243579315aecbb/ca1dc/overload3.png' srcset='/static/ea547f0afb7187c680243579315aecbb/e7570/overload3.png 170w,\n/static/ea547f0afb7187c680243579315aecbb/f46e7/overload3.png 340w,\n/static/ea547f0afb7187c680243579315aecbb/ca1dc/overload3.png 680w,\n/static/ea547f0afb7187c680243579315aecbb/02d09/overload3.png 1020w,\n/static/ea547f0afb7187c680243579315aecbb/9d567/overload3.png 1360w,\n/static/ea547f0afb7187c680243579315aecbb/dd200/overload3.png 1726w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>overload3</figcaption>\n  </figure></p>\n<p>위 타입에러는 조건에 따라 다른 타입의 param을 전달하는 상황이기 때문에 발생했는데, 그 이유는 타입스크립트는 하나의 overLoad에서만 함수를 호출하기 때문이다. 이럴때는 param을 정의할 때 union type으로 정의하는 게 더 올바른 방법이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x<span class=\"token punctuation\">.</span>length\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>this 다루기</h3>\n<p>javascript에서의 this 처럼 typescript의 this도 동적으로 정의된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span>\n  admin<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">becomeAdmin</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>admin <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 예제에서 <strong>this</strong>는 암시적 바인딩에 의해 호출되는 위치에 따라 다른 값을 의미하게된다.</p>\n<p>이러한 this를 상대적으로 쉽게(?) 정의하는 방법으로 <strong>화살표함수</strong>를 이용하는 방법이 있다. 화살표 함수는 함수 선언식과 다른 특징이 있는데 그중 생성자 함수로 쓰일 수 없다는 점이 있다. 그렇기 때문에 자체적인 this를 가지지 않고 화살표 함수에서 this는 상위 스코프의 this를 참조하는 규칙 가진다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/21e3e2d2f04320f27bdfc5c72fc3da23/6b940/this.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 24.705882352941178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1ElEQVR42o2P226EMAxE+f9PbFUIYRG7BbIlNwIkOc1CX6vW0mjGli/jSuuEUjuLMcRjJ8bEfmSOwjHlouOpjxhJKfFXVGFd8dbgrGbfPGHdMCbhQ2ANEe3DqbV1bNt2TeX8+8JFZ3QAv7qySJ8ucr7cvAwdP27/G9VQT8hmoBeSR8HUCUbZMPc99+bB7U1ye68x44iZJmyBV4rkLMlaYvnuYkt2juopBZOo+aw/UFLy7LqTVduedSVbxqYcEKL01KXWMJXcDQPufmcph1/4KnPHPPMN7biBsKF6lXsAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='this' title='' src='/static/21e3e2d2f04320f27bdfc5c72fc3da23/ca1dc/this.png' srcset='/static/21e3e2d2f04320f27bdfc5c72fc3da23/e7570/this.png 170w,\n/static/21e3e2d2f04320f27bdfc5c72fc3da23/f46e7/this.png 340w,\n/static/21e3e2d2f04320f27bdfc5c72fc3da23/ca1dc/this.png 680w,\n/static/21e3e2d2f04320f27bdfc5c72fc3da23/02d09/this.png 1020w,\n/static/21e3e2d2f04320f27bdfc5c72fc3da23/9d567/this.png 1360w,\n/static/21e3e2d2f04320f27bdfc5c72fc3da23/6b940/this.png 1760w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>this</figcaption>\n  </figure>\n위 코드에서 타입 에러가 발생한 이유는 화살표함수로 정의된 메소드의 this는 상위 스코프인 globalThis이기 때문이다.</p>\n<h3>Other Types to Know about</h3>\n<p>몇가지 앞서 소개되지 않았던 타입들에 대해 정리해보자.</p>\n<ul>\n<li>Void</li>\n</ul>\n<p>함수에서 반환하는 값이 없을 때를 위한 타입으로, return 문이 없을 때 자동으로 undefined이 반환되지만 타입스크립트에서는 따로 void로 정의한다.</p>\n<ul>\n<li>unknown</li>\n</ul>\n<p>any와 유사하지만, any와 달리 어떤 속성을 가지는 지 알 수 없기 때문에 속성에 접근할 수 없다. 주로 try-catch 문으로 에러를 받을 때 <strong>unknown</strong>으로 반환되기 때문에 비즈니스 에러로 적절하게 타입을 정의한 후 <code class=\"language-text\">instanceOf</code> 를 이용해 에러 객체를 정의하는 방식으로 현업에서 사용하고 있다.</p>\n<ul>\n<li>never</li>\n</ul>\n<p>never는 어떤 것도 포함될 수 없는 타입을 의미한다. union이나 switch문에서 더이상 없다는 것을 의미한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> x <span class=\"token operator\">===</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// do something</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> x <span class=\"token operator\">===</span> <span class=\"token string\">\"number\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// do something else</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    x <span class=\"token comment\">// has type 'never'!</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Rest Parameters and Arguments</h3>\n<p>Rest Parameter는 인자가 <strong>동적으로</strong> 들어올 때의 param을 의미한다. arguments로 받을 param의 타입들을 정의할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span>n<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>m<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> m<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">=></span> n <span class=\"token operator\">*</span> x<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// 'a' gets value [10, 20, 30, 40]</span>\n<span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>rest parameter를 생길 수 있는 타입에러로는 배열과 튜플의 타입 차이에서 발생할 수 있다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/e11f36533f9d47f13d531436e99de91f/f0e87/rest.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 12.352941176470589%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbklEQVR42lWKwRaDIBAD/f+/BBHWCgpie5F1ivbUQ14ySQbxipUPPu2EZUFeQs2Rkg9SLOh5ok1prXX/qT1dz6p/zHUx1CCszrGOjmgseZrYRvvw5iaqCMV7cv/ceQ+BZC3veebourdkDLX31MoXeP+YTBFa46gAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='rest' title='' src='/static/e11f36533f9d47f13d531436e99de91f/ca1dc/rest.png' srcset='/static/e11f36533f9d47f13d531436e99de91f/e7570/rest.png 170w,\n/static/e11f36533f9d47f13d531436e99de91f/f46e7/rest.png 340w,\n/static/e11f36533f9d47f13d531436e99de91f/ca1dc/rest.png 680w,\n/static/e11f36533f9d47f13d531436e99de91f/02d09/rest.png 1020w,\n/static/e11f36533f9d47f13d531436e99de91f/9d567/rest.png 1360w,\n/static/e11f36533f9d47f13d531436e99de91f/f0e87/rest.png 1554w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>rest</figcaption>\n  </figure></p>\n<p>위 예제에서 <code class=\"language-text\">Math.atan2(...)</code>메소드는 <strong>딱 두개의 인자</strong>를 받지만 args는 <code class=\"language-text\">number[]</code>로 타입이 되어있기 때문에 몇개의 값이 더 들어올지 모르는 타입을 의미해 생긴 타입 에러다.</p>\n<p>이를 해결하기 위해서는 배열이 아니라 몇개의 요소로 되어있는 타입인지 정의된 <strong>tuple</strong>을 이용하면 해결할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> args <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">const</span>\n<span class=\"token comment\">// OK</span>\n<span class=\"token keyword\">const</span> angle <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">atan2</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Parameter Destructuring</h3>\n<p>객체 param을 전달할 때 각 속성에 대한 타입을 정의해서 전달할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">ABC</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> b<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> c<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token constant\">ABC</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> b <span class=\"token operator\">+</span> c<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Assignability of Functions</h3>\n<p>void를 반환타입으로 가지는 함수들 끼리 가지는 특이한 특징이 있다. void 자체는 해당 함수들이 반환하는 타입에 대해 강하게 타입을 따지지 않기 때문에 반환 타입이 무시된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">voidFunc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span>\n\n<span class=\"token keyword\">const</span> f1<span class=\"token operator\">:</span> <span class=\"token function-variable function\">voidFunc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> f2<span class=\"token operator\">:</span> <span class=\"token function-variable function\">voidFunc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token boolean\">true</span>\n\n<span class=\"token keyword\">const</span> f3<span class=\"token operator\">:</span> <span class=\"token function-variable function\">voidFunc</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 예제에서 <code class=\"language-text\">f1,f2,f3</code> 다 반환하는 타입이 boolean이지만 voidFunc로 정의해도 타입에러가 발생하지 않는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">f2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// 에러 발생</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>하지만 직접 정의할 때 void를 반환한다고 정의할 시에 타입 에러가 걸리게 된다.</p>","frontmatter":{"title":"Typescript: More On Functions","date":"October 23, 2023","tags":["typescript"],"series":"Typescript"},"fields":{"slug":"/2023-10-23-MoreOnFunctions/","readingTime":{"minutes":13.36}}},"seriesList":{"edges":[{"node":{"id":"e4afb978-51d0-558a-8fac-8eb97d2a2763","fields":{"slug":"/2023-01-02-타입스크립트란/"},"frontmatter":{"title":"TS study: 타입스크립트란"}}},{"node":{"id":"bb1c9c90-fc11-564c-b727-6c9928d01454","fields":{"slug":"/2023-01-07-타입시스템-1/"},"frontmatter":{"title":"TS study: 타입시스템 (1)"}}},{"node":{"id":"45594d13-5cde-58b7-becf-86a6f7ad0569","fields":{"slug":"/2023-01-10-타입시스템-2/"},"frontmatter":{"title":"TS study: 타입 시스템 (2)"}}},{"node":{"id":"c5af547a-22ba-513d-ad11-390454722177","fields":{"slug":"/2023-01-16-타입시스템-3/"},"frontmatter":{"title":"TS study: 타입 시스템 (3)"}}},{"node":{"id":"9f936319-cd88-5b63-b39e-75df052551f4","fields":{"slug":"/2023-01-24-타입추론 (1)/"},"frontmatter":{"title":"TS study: 타입 추론(1)"}}},{"node":{"id":"80cde9be-da0c-5c6b-acc8-d45547b96aa0","fields":{"slug":"/2023-10-16-the_Basics/"},"frontmatter":{"title":"Typescript: The Basics"}}},{"node":{"id":"9910c49d-f3d2-5a90-894e-324c868332cf","fields":{"slug":"/2023-10-18-Narrowing/"},"frontmatter":{"title":"Typescript: Narrowing"}}},{"node":{"id":"228a2c10-6f85-5211-bd1e-5efa48a65e5c","fields":{"slug":"/2023-10-17-Everyday-Types/"},"frontmatter":{"title":"Typescript: EveryDay Types"}}},{"node":{"id":"4891d21f-441e-5651-a65d-a38aea282bfc","fields":{"slug":"/2023-10-23-MoreOnFunctions/"},"frontmatter":{"title":"Typescript: More On Functions"}}},{"node":{"id":"c2a60f21-344c-5617-9e23-098da34ba0ab","fields":{"slug":"/2023-10-31-Object-Types/"},"frontmatter":{"title":"Typescript: Object Types"}}},{"node":{"id":"0f40ef0b-b850-516a-9f30-5b7e0a8896c3","fields":{"slug":"/2023-11-07-Generics/"},"frontmatter":{"title":"Typescript: Generics"}}},{"node":{"id":"d6ab523a-3829-5c6a-a25e-50d272e4823d","fields":{"slug":"/2023-11-16-keyof,typeof, indexed Access Types/"},"frontmatter":{"title":"Typescript: Keyof, TypeOf, Indexed"}}},{"node":{"id":"7a9a6af1-4b1e-5433-bb68-e8ae4c84e2c0","fields":{"slug":"/2023-12-19-conditional-types/"},"frontmatter":{"title":"Typescript: Conditional Types"}}}]},"previous":{"fields":{"slug":"/2023-10-17-Everyday-Types/"},"frontmatter":{"title":"Typescript: EveryDay Types"}},"next":{"fields":{"slug":"/2023-10-31-Object-Types/"},"frontmatter":{"title":"Typescript: Object Types"}}},"pageContext":{"id":"4891d21f-441e-5651-a65d-a38aea282bfc","series":"Typescript","previousPostId":"228a2c10-6f85-5211-bd1e-5efa48a65e5c","nextPostId":"c2a60f21-344c-5617-9e23-098da34ba0ab"}},"staticQueryHashes":[],"slicesMap":{}}