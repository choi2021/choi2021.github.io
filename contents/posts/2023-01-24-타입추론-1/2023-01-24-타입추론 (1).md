---
title: "TS study: íƒ€ì… ì¶”ë¡ (1)"
date: 2023-01-24
slug: typescript-íƒ€ì…ì¶”ë¡ -1
tags: [typescript]
series: Typescript
---



# ğŸ™‹â€â™‚ï¸ íƒ€ì…ì¶”ë¡ 

íƒ€ì…ì¶”ë¡ ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ìš°ë¦¬ê°€ ì‘ì„±í•œ ì½”ë“œì— ëŒ€í•´ì„œ ìë™ìœ¼ë¡œ íƒ€ì…ì„ ì¶”ë¡ í•´ì£¼ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

```typescript
const person = {
  name: 'so',
  born: {
    where: 'asd',
    when: '1233',
  },
  died: {
    where: 'asi',
    when: 'nov,201',
  },
};

// íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ì¶”ë¡ ëœ íƒ€ì… 
const person: {
    name: string;
    born: {
        where: string;
        when: string;
    };
    died: {
        where: string;
        when: string;
    };
}
```

ìœ„ person ì˜ˆì œë¥¼ ë³´ë©´ì„œ íƒ€ì… ì¶”ë¡ ì´ ì •í™•í•˜ê²Œ ì‘ë™í•˜ê³  ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. íƒ€ì… ì¶”ë¡ ì„ ì´ìš©í–ˆì„ ë•Œ ë” ì •í™•í•˜ê²Œ íƒ€ì…ì´ ì •í•´ì§€ê±°ë‚˜, êµ³ì´ ëª…ì‹œì ìœ¼ë¡œ íƒ€ì…ì„ ì •í•  í•„ìš”ê°€ ì—†ì„ ë•Œì—ëŠ” íƒ€ì… êµ¬ë¬¸ì„ ìƒëµí•˜ëŠ” ê²Œ ê°€ë…ì„±ì„ ë†’ì—¬ì¤€ë‹¤.

```typescript
interface Product {
  id: string;
  name: string;
  price: number;
}

// ëª…ì‹œì ìœ¼ë¡œ íƒ€ì…ì„ ë‹¤ ì •í•œ ê²½ìš°
function logProduct(product: Product) {
  const id: number = product.id;
  const name: string = product.name;
  const price: number = product.price;
  console.log(id, name, price);
}

function logProduct(product: Product) {
  const { id, name, price } = product;
  console.log(id, name, price);
}
```

ìœ„ ì˜ˆì œì—ì„œ `Product` interfaceì—ì„œ íƒ€ì…ì„ ì´ë¯¸ ì •ì˜í–ˆê¸° ë•Œë¬¸ì— êµ³ì´ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì •ì˜í•  í•„ìš”ê°€ ì—†ì—ˆë‹¤.

ê·¸ëŸ¬ë©´ í•­ìƒ íƒ€ì… ì¶”ë¡ ì— ë§¡ê¸°ë©´ ë˜ëŠ” ê±¸ê¹Œ?



ì•ì„œ ì •ë¦¬í–ˆë˜ íƒ€ì…ì‹œìŠ¤í…œì„ í†µí•´ ë°°ì› ë˜ **ê°ì²´ ë¦¬í„°ëŸ´**ê³¼ **í•¨ìˆ˜ì˜ ì¸ìì™€ ë°˜í™˜ê°’**ì€ ëª…ì‹œì ìœ¼ë¡œ íƒ€ì…ì„ ì •ì˜í•´ ì¤„ í•„ìš”ê°€ ìˆë‹¤.

ë¨¼ì € ê°ì²´ ë¦¬í„°ëŸ´ì˜ ê²½ìš° ëª…ì‹œì ìœ¼ë¡œ íƒ€ì…ì„ ì •ì˜í•˜ë©´ `ì‰ì—¬ ì†ì„± ì²´í¬`ê°€ ë™ì‘í•´ ì‘ì„±ëœ íƒ€ì…ê³¼ ë¹„êµí•´ ì˜¤íƒ€ë‚˜ ì˜¤ë¥˜ë¥¼ ì¡ëŠ”ë° ë„ì›€ì„ ì¤„ ìˆ˜ ìˆë‹¤.

í•¨ìˆ˜ì˜ ê²½ìš° ë°˜í™˜ ê°’ì„ í†µí•´ ì˜¤ë¥˜ë¥¼ ë§‰ì„ ìˆ˜ ìˆë‹¤. ë‹¤ìŒ ì˜ˆì œë¥¼ ë³´ì.

```typescript

const cache: { [ticker: string]: number } = {};
function getQuote(ticker: string): Promise<number> {
  if (ticker in cache) {
    return cache[ticker]; // Promise<number>ê°€ ì•„ë‹ˆë¼ ì—ëŸ¬
  }
  return fetch(`https://quotes.example.com/?q=${ticker}`)
    .then((response) => response.json())
    .then((quote) => {
      cache[ticker] = quote;
      return quote;
    });
}
```

ìœ„ ì½”ë“œëŠ” ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê°’ì˜ ê²½ìš° cache ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  cacheëœ ê°’ì´ ì—†ë‹¤ë©´ ìƒˆë¡œ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜ë‹¤. í•˜ì§€ë§Œ cacheê°’ì´ ì—†ì„ ë•Œ `number`ë¡œ ë°˜í™˜ë˜ê¸° ë•Œë¬¸ì— ì—ëŸ¬ë¥¼ ë˜ì ¸ì£¼ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

ì´ì²˜ëŸ¼ ë°˜í™˜ íƒ€ì…ì„ ëª…ì‹œí•¨ìœ¼ë¡œì¨ ì½”ë“œ ìì²´ì ìœ¼ë¡œ ì¸ìë¥¼ ë„£ì—ˆì„ ë•Œ ê²°ê³¼ ê°’ì„ ì˜ˆì¸¡í•´ ë¬¸ì„œë¡œì¨ ì—­í• ì„ í•  ìˆ˜ ìˆìœ¼ë©°,  ê¸°ì¡´ì˜ ëª…ëª…ëœ íƒ€ì…ì„ ê·¸ëŒ€ë¡œ ì´ìš©í•  ìˆ˜ ìˆëŠ” ì¥ì ë„ ê°€ì§„ë‹¤. ì•„ë˜ ì½”ë“œë¥¼ ë³´ì.

```typescript
interface Vector2D {
  x: number;
  y: number;
}

function add(a: Vector2D, b: Vector2D) {
  return { x: a.x + b.x, y: a.y + b.y }; // {x:number y:number}
} 

function add(a: Vector2D, b: Vector2D): Vector2D {
  return { x: a.x + b.x, y: a.y + b.y };
}


```

ë°˜í™˜ê°’ íƒ€ì…ë„ ë™ì¼í•˜ê²Œ `Vector 2D`ë¥¼ ì˜ˆìƒí–ˆì§€ë§Œ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ ë°˜í™˜ ê°’ì´ ì¶”ë¡ ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. 

ì •ë¦¬í•´ë³´ë©´ ëª…ì‹œì  íƒ€ì…ì´ í•„ìš”í•œ ê²½ìš°ëŠ” ê°ì²´ë¦¬í„°ëŸ´ì„ ì„ ì–¸í•´ ì‰ì—¬ì†ì„±ì²´í¬ê°€ í•„ìš”í•˜ê±°ë‚˜, í•¨ìˆ˜ì˜ ì¸ìì™€ ë°˜í™˜ê°’ì— í•„ìš”í•˜ë©°, ëŒ€ë¶€ë¶„ì˜ ê²½ìš° íƒ€ì… ì¶”ë¡ ì— ë§¡ê²¨ë„ ëœë‹¤ê³  í•œë‹¤.



## ğŸ“¦ ë‹¤ë¥¸ íƒ€ì…ì— ë‹¤ë¥¸ ë³€ìˆ˜ ì“°ê¸°

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë™ì  íƒ€ì… ì–¸ì–´ì´ê¸° ë•Œë¬¸ì— ê°™ì€ ë³€ìˆ˜ì— ë‹¤ë¥¸ íƒ€ì…ì„ í• ë‹¹í•  ìˆ˜ ìˆì§€ë§Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” í• ë‹¹í•  ìˆ˜ ì—†ë‹¤. ì´ ê²½ìš°ì— ë‹¤ë¥¸ íƒ€ì…ì„ í• ë‹¹í•˜ê¸° ìœ„í•´ì„œ ìœ ë‹ˆì˜¨ íƒ€ì…ìœ¼ë¡œ íƒ€ì…ì„ ë” ì¢í ìˆ˜ ìˆë‹¤.

```typescript
let id: string | number = '12-34-56';
id=123;
```

í•˜ì§€ë§Œ ì´ëŸ¬í•œ ê²½ìš°ì— ì˜¤íˆë ¤ stringê³¼ numberì˜ ê³µí†µ ë©”ì†Œë“œë§Œ ì œê³µí•´ì£¼ëŠ” ë“± ì‚¬ìš©í•˜ê¸° ë” ì–´ë ¤ì›Œì§„ë‹¤. ì°¨ë¼ë¦¬ **ë³„ë„ë¡œ ë³€ìˆ˜ë¥¼ ë‚˜ëˆ„ëŠ” ê²ƒ**ì´ ë‚˜ì€ ë°©ë²•ì´ë‹¤. 



## ğŸˆ íƒ€ì… ë„“íˆê¸°

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ íƒ€ì…ì„ ì¶”ë¡ í•  ë•ŒëŠ” í• ë‹¹ëœ ê°’ì„ í†µí•´ í• ë‹¹ ê°€ëŠ¥í•œ ê°’ë“¤ì˜ ì§‘í•©ì„ ìœ ì¶”í•œë‹¤.

```typescript
interface Vector3 {
  x: number;
  y: number;
  z: number;
}

function getComponent(vector: Vector3, axis: 'x' | 'y' | 'z') {
  return vector[axis];
}

let x = 'x'; 
let vec = { x: 10, y: 20, z: 30 };
getComponent(vec, x); // Argument of type 'string' is not assignable to parameter of type '"x" | "y" | "z"'
```

ìœ„ ì˜ˆì œì—ì„œ `let x= 'x'`ë¡œ ì„ ì–¸ë˜ì–´ xë³€ìˆ˜ì—ëŠ” í• ë‹¹í•  ìˆ˜ ìˆëŠ” íƒ€ì…ì„ ê³ ë ¤í•´ stringíƒ€ì…ìœ¼ë¡œ ì¶”ë¡ í–ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì •í™•íˆ `"x" | "y" | "z"`ê°€ í•„ìš”í•œ `getComponent`í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬ ì‹œ íƒ€ì… ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.

ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ê°„ë‹¨í•˜ê²Œ `let`ëŒ€ì‹  `const`ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤. `const`ë¡œ ì„ ì–¸í•˜ë©´ `x`ì˜ íƒ€ì…ì´ `'x'`ê°€ ë˜ì–´ íƒ€ì…ì´ ë” ì¢í˜€ì§€ê¸° ë•Œë¬¸ì— ì•ì„œ ë°œìƒí•œ ì—ëŸ¬ë¥¼ ë§‰ì„ ìˆ˜ ìˆë‹¤. 

í•˜ì§€ë§Œ `const`ë¡œ ì„ ì–¸í•˜ëŠ” ë°©ë²•ì€ ê°ì²´ì™€ ë°°ì—´ì—ì„œëŠ” ì—¬ì „íˆ ë¬¸ì œê°€ ëœë‹¤. ë°°ì—´ì˜ ê²½ìš°ì˜ `const x= [1,2,3]`ë¼ê³  í–ˆì„ ë•Œ `number[]`ë¡œ ë´ì•¼í•  ì§€ `[number,number,number]`ë¡œ í•´ì•¼í•  ì§€ íƒ€ì…ì¶”ë¡ ë§Œìœ¼ë¡œëŠ” ì–´ë µë‹¤.  

ì´ëŸ¬í•œ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € ëª…ì‹œì  íƒ€ì…ì„ ì „ë‹¬í•´ ì£¼ëŠ” ë°©ë²•ì´ ìˆë‹¤. ì •í™•íˆ ë‚´ê°€ ì›í•˜ëŠ” íƒ€ì…ìœ¼ë¡œ ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.

```typescript
const arr = [1, 2, 3]; // number[]
const arr2:[number,number,number]=[1,2,3]
```

ë‘ ë²ˆì§¸ë¡œëŠ” `as const` íƒ€ì… ë‹¨ì–¸ì„ í†µí•´ ìµœëŒ€í•œ ì¢ì€ íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.

```typescript
const arr = [1, 2, 3] as const; // readonly [1,2,3] 
```



## ğŸ™ íƒ€ì… ì¢íˆê¸°

#### null ì²´í¬/ undefined ì²´í¬

íƒ€ì… ì¢íˆê¸°ë¥¼ ë‚´ê°€ ê°€ì¥ ë§ì´ ì¼ë˜ ê²½ìš°ëŠ” `null` ì²´í¬ ë˜ëŠ” `undefined` ì²´í¬ì˜€ë˜ ê²ƒ ê°™ë‹¤. ì±…ì—ì„œë„ ëŒ€í‘œì ì¸ ì˜ˆì‹œë¡œ null ì²´í¬ë¥¼ ë³´ì—¬ì¤€ë‹¤. 

``` typescript
const el = document.getElementById("foo");  // HTMLElement | null
if (!el) throw new Error("Unable to find #foo");
el.innerHTML = "Party Time".blink();
```

ìœ„ ì˜ˆì œì—ì„œ `el`ê°’ì´ nullì´ ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¡°ê±´ë¬¸ìœ¼ë¡œ ë¶„ê¸° ì²˜ë¦¬ë¥¼ í•´ì¤€ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. 



####  instanceofì™€ ë‚´ì¥ í•¨ìˆ˜ 

`instanceof`ì™€ ë‚´ì¥ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ íƒ€ì…ì„ ì¢í ìˆ˜ ìˆë‹¤.  `instanceof`ë¥¼ ì´ìš© ì‹œì— ì¤‘ìš”í–ˆë˜ ì ì€ ëŸ°íƒ€ì„ ì—°ì‚°ìë¡œ prototype chainì— í•´ë‹¹ íƒ€ê²Ÿì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³  ê°’ì„ í™•ì¸í•˜ëŠ” ê²ƒì„ ì´í•´í•˜ê³  ì‚¬ìš©í•´ì•¼ í•œë‹¤.

```typescript
function contains(text: string, search: string | RegExp) {
  if (search instanceof RegExp) {
    search;
    return !!search.exec(text);
  }
  return text.includes(search);
}

function contains(text: string, terms: string | string[]) {
  const termList = Array.isArray(terms) ? terms : [terms];
  termList
}
```



#### ì†ì„±ì²´í¬ì™€ discriminated Union Type

ë˜ ë‹¤ë¥¸ íƒ€ì…ì„ ì¢íˆëŠ” ë°©ë²•ìœ¼ë¡œ ê°ì²´ íƒ€ì…ì˜ ê²½ìš° ì†ì„± ì²´í¬ë¥¼ ì´ìš©í•´ ì¢í ìˆ˜ ìˆê³ , ê³µí†µì˜ ì†ì„±ì˜ ë‹¤ë¥¸ ê°’ì„ ê°€ì§€ê²Œ í•˜ëŠ” `discriminated union` êµ¬ë³„ëœ ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤. ì‹¤ì œ ì‚¬ìš© ê²½í—˜ì€ ì†ì„± ì²´í¬ì™€ discriminated Union Typeì€ union Typeìœ¼ë¡œ ì „ë‹¬í•œ propsë¥¼ ë¶„ê¸° ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë§ì´ ì‚¬ìš©í–ˆë‹¤.

```typescript
interface A {
  a: number;
}
interface B {
  b: number;
}

function pickAB(ab: A | B) {
  if ('a' in ab) {
    ab;
  } else {
    ab;
  }
  ab;
}


interface UploadEvent {
  type: 'upload';
  filename: string;
  contents: string;
}
interface DownloadEvent {
  type: 'download';
  filename: string;
}

type AppEvent = UploadEvent | DownloadEvent;

function handleEvent(e: AppEvent) {
  switch (e.type) {
    case 'download':
      e; // DownloadEvent
      break;
    case 'upload': 
      e; // UploadEvent
      break;
  }
}
```



#### ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ

íƒ€ì…ì„ ì¢íˆê¸° ìœ„í•œ ë§ˆì§€ë§‰ ë°©ë²•ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ë‚´ê°€ ì›í•˜ëŠ” íƒ€ì…ìœ¼ë¡œ ì¢í˜€ì¤„ ìˆ˜ ìˆë‹¤.

```typescript
function isInputElement(el: HTMLElement): el is HTMLInputElement {
  return 'value' in el;
}

function getElementContent(el: HTMLElement) {
  if (isInputElement(el)) {
    el; // HTMLInputElement
    return el.value;
  }
  el; // HTMLElement
  return el.textContent;
}

```



## í•œêº¼ë²ˆì— ê°ì²´ ìƒì„±í•˜ê¸°

ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì£¼ì˜í•  ì ì€ ë™ì ìœ¼ë¡œ ì†ì„±ì„ ì¶”ê°€í•˜ê¸° ë³´ë‹¤ í•„ìš”í•œ ì†ì„±ë“¤ì„ í•œë²ˆì— ìƒì„±í•´ì•¼ íƒ€ì…ì¶”ë¡ ì˜ ì´ì ì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤.

```typescript
const pt = {};
pt.x = 3; // Property 'x' does not exist on type '{}'.
pt.y = 4; // Property 'y' does not exist on type '{}'.
```

ìœ„ ì˜ˆì œì—ì„œëŠ” ì²˜ìŒ ptê°€ `{}`ë¡œ ì¶”ë¡ ë˜ê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤. ì´ëŸ¬í•œ ì›ì¹™ì€ ê¸°ì¡´ ê°ì²´ ë‚´ìš©ì„ ì´ìš©í•´ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ ë•Œì—ë„ ë™ì¼í•˜ê²Œ ì ìš©ëœë‹¤.

```typescript
const pt = { x: 3, y: 4 };
const id = { name: 'Pythagoras' };
const namedPoint = {};
Object.assign(namedPoint, pt, id);
namedPoint.name; // Property 'name' does not exist on type '{}'.
```

ìœ„ ì˜ˆì œëŠ” `namedPoint`ëŠ” ë™ì¼í•˜ê²Œ `{}`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¶”ë¡ ì´ ë˜ì–´ `Object.assign()`ë©”ì†Œë“œë¥¼ ì´ìš©í•´ì„œ ì†ì„±ì„ ì¶”ê°€í•´ë„ ì—ëŸ¬ê°€ ë°œìƒë˜ì—ˆë‹¤. ì´ì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” `spread operator`ë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤.

```typescript
const namedPoint = { ...pt, ...id }; // const namedPoint: {name: string; x: number; y: number;}
namedPoint.name;
```







## ì •ë¦¬í•˜ë©°

íƒ€ì… ì¶”ë¡ ì€ ì—„ì²­ë‚˜ê²Œ í¸í•œ ë¶€ë¶„ì´ì§€ë§Œ, ë” ì •í™•í•˜ê³  ë‚´ê°€ ì›í•˜ëŠ” íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•˜ê±°ë‚˜ `as const`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.  
